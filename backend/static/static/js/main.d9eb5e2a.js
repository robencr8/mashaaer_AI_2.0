/*! For license information please see main.d9eb5e2a.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:l.current}}t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var S=b.prototype=new y;S.constructor=b,m(S,v.prototype),S.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},a=null,l=null;if(null!=t)for(i in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!C.hasOwnProperty(i)&&(o[i]=t[i]);var s=arguments.length-2;if(1===s)o.children=r;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===o[i]&&(o[i]=s[i]);return{$$typeof:n,type:e,key:a,ref:l,props:o,_owner:k.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function z(e,t,i,o,a){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return a=a(s=e),e=""===o?"."+P(s,0):o,w(a)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),z(a,t,i,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+e)),t.push(a)),1;if(s=0,o=""===o?".":o+":",w(e))for(var u=0;u<e.length;u++){var c=o+P(l=e[u],u);s+=z(l,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(l=e.next()).done;)s+=z(l=l.value,t,i,c=o+P(l,u++),a);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function I(e,t,n){if(null==e)return e;var r=[],i=0;return z(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},O={transition:null},N={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)E.call(t,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:l}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var l=2*(r+1)-1,s=e[l],u=l+1,c=e[u];if(0>o(s,n))u<i&&0>o(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[l]=n,r=l);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var u=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(g=!1,S(e),!m)if(null!==r(u))m=!0,O(E);else{var t=r(c);null!==t&&N(w,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(x),x=-1),p=!0;var o=h;try{for(S(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!z());){var a=f.callback;if("function"===typeof a){f.callback=null,h=f.priorityLevel;var l=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?f.callback=l:f===r(u)&&i(u),S(n)}else i(u);f=r(u)}if(null!==f)var s=!0;else{var d=r(c);null!==d&&N(w,d.startTime-n),s=!1}return s}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,T=null,x=-1,_=5,P=-1;function z(){return!(t.unstable_now()-P<_)}function I(){if(null!==T){var e=t.unstable_now();P=e;var n=!0;try{n=T(!0,e)}finally{n?k():(C=!1,T=null)}}else C=!1}if("function"===typeof b)k=function(){b(I)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,L=D.port2;D.port1.onmessage=I,k=function(){L.postMessage(null)}}else k=function(){v(I,0)};function O(e){T=e,C||(C=!0,k())}function N(e,n){x=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(y(x),x=-1):g=!0,N(w,o-a))):(e.sortIndex=l,n(u,e),m||p||(m=!0,O(E))),e},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},285:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,s=[],u=!1,c=-1;function d(){u&&l&&(u=!1,l.length?s=l.concat(s):c=-1,s.length&&f())}function f(){if(!u){var e=a(d);u=!0;for(var t=s.length;t;){for(l=s,s=[];++c<t;)l&&l[c].run();c=-1,t=s.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new h(e,t)),1!==s.length||u||a(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},330:(e,t,n)=>{"use strict";var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,l=r.useLayoutEffect,s=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return l((function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,n,t]),a((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},443:(e,t,n)=>{"use strict";e.exports=n(717)},461:(e,t,n)=>{"use strict";e.exports=n(330)},579:(e,t,n)=>{"use strict";e.exports=n(153)},581:(e,t,n)=>{var r=n(285);const i=new class{constructor(){this.config=null,this.isInitialized=!1,this.envPrefix="MASHAAER_"}async initialize(){try{const e=this.getDefaultConfig(),t=this.loadEnvironmentVariables();return this.config=this.mergeConfigs(e,t),this.isInitialized=!0,console.log("Configuration loaded successfully"),this.config}catch(e){return console.error("Error loading configuration:",e),this.config=this.getDefaultConfig(),this.isInitialized=!0,this.config}}loadEnvironmentVariables(){const e={};return"undefined"!==typeof r&&Object.keys({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).forEach((t=>{if(t.startsWith(this.envPrefix)){const n=t.replace(this.envPrefix,"").toLowerCase();this.setNestedValue(e,n.replace(/_/g,"."),{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[t])}})),e}setNestedValue(e,t,n){const r=t.split(".");let i=e;for(let o=0;o<r.length-1;o++){const e=r[o];i[e]||(i[e]={}),i=i[e]}i[r[r.length-1]]=this.parseValue(n)}parseValue(e){try{return JSON.parse(e)}catch(t){return e}}mergeConfigs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>this.deepMerge(e,t)),{})}deepMerge(e,t){const n={...e};return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach((r=>{this.isObject(t[r])?n[r]=r in e?this.deepMerge(e[r],t[r]):t[r]:n[r]=t[r]})),n}isObject(e){return e&&"object"===typeof e&&!Array.isArray(e)}initializeSync(){try{return this.config=this.getDefaultConfig(),this.isInitialized=!0,console.log("Configuration loaded successfully (sync)"),this.config}catch(e){return console.error("Error loading configuration:",e),this.config=this.getDefaultConfig(),this.isInitialized=!0,this.config}}getDefaultConfig(){return{theme:{accentColor:"warm",animationSpeed:"normal",starDensity:"high",starShape:"star"},assistant:{defaultDialect:"khaliji",defaultTone:"cheerful",defaultVoiceProfile:"GULF_FEMALE_ARIA"},emotion:{detectionEnabled:!0,timelineEnabled:!0,culturalContextEnabled:!0,advanced:{sensitivityLevel:"high",contextAwareness:!0,dialectSpecificPatterns:!0}},integration:{paypal:{enabled:!0,sandboxMode:!0,clientId:"your-paypal-client-id",currency:"USD"},whatsapp:{enabled:!0,qrCodeRefreshInterval:3e4,autoReconnect:!0},telegram:{enabled:!0,botToken:"your-telegram-bot-token"}},subscription:{trialPeriodDays:14,referralBonusDays:7,plans:[{id:"basic",name:"Basic",price:9.99,features:["emotion-detection","voice-customization"]},{id:"premium",name:"Premium",price:19.99,features:["emotion-detection","voice-customization","dialect-support","integrations"]}]},system:{debugMode:!1,logLevel:"info",performanceMonitoring:!0,errorReporting:!0}}}getConfig(){return this.isInitialized?this.config:(console.warn("Configuration not initialized, returning default config"),this.getDefaultConfig())}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.isInitialized)return console.warn("Configuration not initialized, returning default value"),t;const n=e.split(".");let r=this.config;for(const i of n){if(void 0===r||null===r||"object"!==typeof r)return t;r=r[i]}return void 0!==r?r:t}};e.exports=i},717:(e,t,n)=>{"use strict";var r=n(43),i=n(461);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,l=r.useRef,s=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=l(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!s){if(s=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return l=t}return l=e}if(t=l,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(a=e,t):(a=e,l=n)}var a,l,s=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var h=a(e,d[0],d[1]);return s((function(){f.hasValue=!0,f.value=h}),[h]),c(h),h}},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function s(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),_=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var A,M=Object.assign;function F(e){if(void 0===A)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(1!==a||1!==l)do{if(a--,0>--l||i[a]!==o[l]){var s="\n"+i[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=a&&0<=l);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function $(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case E:return"Portal";case T:return"Profiler";case C:return"StrictMode";case z:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function B(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=B(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=B(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,ke=null,Ce=null;function Te(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function xe(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function _e(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Pe(e,t){return e(t)}function ze(){}var Ie=!1;function De(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Pe(e,t,n)}finally{Ie=!1,(null!==ke||null!==Ce)&&(ze(),_e())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Oe=!1}function Re(e,t,n,r,i,o,a,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ae=!1,Me=null,Fe=!1,Ue=null,je={onError:function(e){Ae=!0,Me=e}};function $e(e,t,n,r,i,o,a,l,s){Ae=!1,Me=null,Re.apply(je,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(o(188))}function Be(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=a;break}if(s===r){l=!0,r=i,n=a;break}s=s.sibling}if(!l){for(s=a.child;s;){if(s===n){l=!0,n=a,r=i;break}if(s===r){l=!0,r=a,n=i;break}s=s.sibling}if(!l)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/st|0)|0},lt=Math.log,st=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var l=a&~i;0!==l?r=dt(l):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function St(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,kt,Ct,Tt,xt=!1,_t=[],Pt=null,zt=null,It=null,Dt=new Map,Lt=new Map,Ot=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function At(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Tt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Se=r,n.target.dispatchEvent(r),Se=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function jt(){xt=!1,null!==Pt&&Ft(Pt)&&(Pt=null),null!==zt&&Ft(zt)&&(zt=null),null!==It&&Ft(It)&&(It=null),Dt.forEach(Ut),Lt.forEach(Ut)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Vt(e){function t(t){return $t(t,e)}if(0<_t.length){$t(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pt&&$t(Pt,e),null!==zt&&$t(zt,e),null!==It&&$t(It,e),Dt.forEach(t),Lt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Mt(n),null===n.blockedOn&&Ot.shift()}var Ht=S.ReactCurrentBatchConfig,Wt=!0;function Bt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Kt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function qt(e,t,n,r){if(Wt){var i=Gt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Pt=At(Pt,e,t,n,r,i),!0;case"dragenter":return zt=At(zt,e,t,n,r,i),!0;case"mouseover":return It=At(It,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dt.set(o,At(Dt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Lt.set(o,At(Lt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Gt(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Gt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Yt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Yt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,sn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=M({},un,{view:0,detail:0}),fn=on(dn),hn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,ln=e.screenY-sn.screenY):ln=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),pn=on(hn),mn=on(M({},hn,{dataTransfer:0})),gn=on(M({},dn,{relatedTarget:0})),vn=on(M({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),Sn=on(M({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return Cn}var xn=M({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=on(xn),Pn=on(M({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),zn=on(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),In=on(M({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=M({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=on(Dn),On=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var An=c&&"TextEvent"in window&&!Rn,Mn=c&&(!Nn||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Bn(e,t,n,r){xe(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,qn=null;function Qn(e){Fr(e,0)}function Gn(e){if(q(Si(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Yn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Yn=Zn}else Yn=!1;Xn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),qn=Kn=null)}function nr(e){if("value"===e.propertyName&&Gn(qn)){var t=[];Bn(t,qn,e,we(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(qn)}function or(e,t){if("click"===e)return Gn(t)}function ar(e,t){if("input"===e||"change"===e)return Gn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Cr={};function Tr(e){if(kr[e])return kr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return kr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var xr=Tr("animationend"),_r=Tr("animationiteration"),Pr=Tr("animationstart"),zr=Tr("transitionend"),Ir=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Ir.set(e,t),s(t,[e])}for(var Or=0;Or<Dr.length;Or++){var Nr=Dr[Or];Lr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Lr(xr,"onAnimationEnd"),Lr(_r,"onAnimationIteration"),Lr(Pr,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(zr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,l,s,u){if($e.apply(this,arguments),Ae){if(!Ae)throw Error(o(198));var c=Me;Ae=!1,Me=null,Fe||(Fe=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==o&&i.isPropagationStopped())break e;Mr(i,l,u),o=s}else for(a=0;a<r.length;a++){if(s=(l=r[a]).instance,u=l.currentTarget,l=l.listener,s!==o&&i.isPropagationStopped())break e;Mr(i,l,u),o=s}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[$r]){e[$r]=!0,a.forEach((function(t){"selectionchange"!==t&&(Ar.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,jr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Jt(t)){case 1:var i=Bt;break;case 4:i=Kt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===i||8===l.nodeType&&l.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==l;){if(null===(a=yi(l)))return;if(5===(s=a.tag)||6===s){r=o=a;continue e}l=l.parentNode}}r=r.return}De((function(){var r=o,i=we(n),a=[];e:{var l=Ir.get(e);if(void 0!==l){var s=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=_n;break;case"focusin":u="focus",s=gn;break;case"focusout":u="blur",s=gn;break;case"beforeblur":case"afterblur":s=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=zn;break;case xr:case _r:case Pr:s=vn;break;case zr:s=In;break;case"scroll":s=fn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Pn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==l?l+"Capture":null:l;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Le(p,f))&&c.push(Br(p,m,h)))),d)break;p=p.return}0<c.length&&(l=new s(l,u,null,n,i),a.push({event:l,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Se||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(s||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(d=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=r),s!==u)){if(c=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==s?l:Si(s),h=null==u?l:Si(u),(l=new c(m,p+"leave",s,n,i)).target=d,l.relatedTarget=h,m=null,yi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,m=c),d=m,s&&u)e:{for(f=u,p=0,h=c=s;h;h=qr(h))p++;for(h=0,m=f;m;m=qr(m))h++;for(;0<p-h;)c=qr(c),p--;for(;0<h-p;)f=qr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=qr(c),f=qr(f)}c=null}else c=null;null!==s&&Qr(a,l,s,c,!1),null!==u&&null!==d&&Qr(a,d,u,c,!0)}if("select"===(s=(l=r?Si(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var g=Jn;else if(Wn(l))if(Xn)g=ar;else{g=ir;var v=rr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=or);switch(g&&(g=g(e,r))?Bn(a,g,n,i):(v&&v(e,l,r),"focusout"===e&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&ee(l,"number",l.value)),v=r?Si(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,Sr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Sr(a,n,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Yt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(v=Kr(r,b)).length&&(b=new Sn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=$n(n))&&(b.data=y))),(y=An?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Nn&&jn(e,t)?(e=en(),Zt=Yt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Le(e,n))&&r.unshift(Br(e,o,i)),null!=(o=Le(e,t))&&r.push(Br(e,o,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==u&&(l=u,i?null!=(s=Le(n,o))&&a.unshift(Br(n,s,l)):i||null!=(s=Le(n,o))&&a.push(Br(n,s,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Jr,"")}function Yr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(li)}:ri;function li(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Si(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[hi]||null}var Ei=[],ki=-1;function Ci(e){return{current:e}}function Ti(e){0>ki||(e.current=Ei[ki],Ei[ki]=null,ki--)}function xi(e,t){ki++,Ei[ki]=e.current,e.current=t}var _i={},Pi=Ci(_i),zi=Ci(!1),Ii=_i;function Di(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Li(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ti(zi),Ti(Pi)}function Ni(e,t,n){if(Pi.current!==_i)throw Error(o(168));xi(Pi,t),xi(zi,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return M({},n,r)}function Ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ii=Pi.current,xi(Pi,e),xi(zi,zi.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ri(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ti(zi),Ti(Pi),xi(Pi,e)):Ti(zi),xi(zi,n)}var Fi=null,Ui=!1,ji=!1;function $i(e){null===Fi?Fi=[e]:Fi.push(e)}function Vi(){if(!ji&&null!==Fi){ji=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),qe(Ze,Vi),i}finally{bt=t,ji=!1}}return null}var Hi=[],Wi=0,Bi=null,Ki=0,qi=[],Qi=0,Gi=null,Ji=1,Xi="";function Yi(e,t){Hi[Wi++]=Ki,Hi[Wi++]=Bi,Bi=e,Ki=t}function Zi(e,t,n){qi[Qi++]=Ji,qi[Qi++]=Xi,qi[Qi++]=Gi,Gi=e;var r=Ji;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ji=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Ji=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Yi(e,1),Zi(e,1,0))}function to(e){for(;e===Bi;)Bi=Hi[--Wi],Hi[Wi]=null,Ki=Hi[--Wi],Hi[Wi]=null;for(;e===Gi;)Gi=qi[--Qi],qi[Qi]=null,Xi=qi[--Qi],qi[Qi]=null,Ji=qi[--Qi],qi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Du(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function lo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Du(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function so(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!lo(e,t)){if(so(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&lo(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(so(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(so(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ui(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=S.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function So(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===L&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Nu(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ru(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case E:return(t=Fu(t,e.mode,n)).return=e,t;case L:return f(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ru(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case L:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,l,s){for(var u=null,c=null,d=o,m=o=0,g=null;null!==d&&m<l.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(i,d,l[m],s);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===l.length)return n(i,d),io&&Yi(i,m),u;if(null===d){for(;m<l.length;m++)null!==(d=f(i,l[m],s))&&(o=a(d,o,m),null===c?u=d:c.sibling=d,c=d);return io&&Yi(i,m),u}for(d=r(i,d);m<l.length;m++)null!==(g=p(d,i,m,l[m],s))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Yi(i,m),u}function g(i,l,s,u){var c=R(s);if("function"!==typeof c)throw Error(o(150));if(null==(s=c.call(s)))throw Error(o(151));for(var d=c=null,m=l,g=l=0,v=null,y=s.next();null!==m&&!y.done;g++,y=s.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(i,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),l=a(b,l,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Yi(i,g),c;if(null===m){for(;!y.done;g++,y=s.next())null!==(y=f(i,y.value,u))&&(l=a(y,l,g),null===d?c=y:d.sibling=y,d=y);return io&&Yi(i,g),c}for(m=r(i,m);!y.done;g++,y=s.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),l=a(y,l,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Yi(i,g),c}return function e(r,o,a,s){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===k){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===L&&bo(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=vo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===k?((o=Ru(a.props.children,r.mode,s,a.key)).return=r,r=o):((s=Nu(a.type,a.key,a.props,null,r.mode,s)).ref=vo(r,o,a),s.return=r,r=s)}return l(r);case E:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fu(a,r.mode,s)).return=r,r=o}return l(r);case L:return e(r,o,(c=a._init)(a._payload),s)}if(te(a))return m(r,o,a,s);if(R(a))return g(r,o,a,s);yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Mu(a,r.mode,s)).return=r,r=o),l(r)):n(r,o)}}var wo=So(!0),Eo=So(!1),ko=Ci(null),Co=null,To=null,xo=null;function _o(){xo=To=Co=null}function Po(e){var t=ko.current;Ti(ko),e._currentValue=t}function zo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Io(e,t){Co=e,xo=To=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bl=!0),e.firstContext=null)}function Do(e){var t=e._currentValue;if(xo!==e)if(e={context:e,memoizedValue:t,next:null},null===To){if(null===Co)throw Error(o(308));To=e,Co.dependencies={lanes:0,firstContext:e}}else To=To.next=e;return t}var Lo=null;function Oo(e){null===Lo?Lo=[e]:Lo.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Oo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ao=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ps)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ro(e,n)}return null===(i=r.interleaved)?(t.next=t,Oo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ro(e,n)}function $o(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Vo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,r){var i=e.updateQueue;Ao=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var s=l,u=s.next;s.next=null,null===a?o=u:a.next=u,a=s;var c=e.alternate;null!==c&&((l=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===l?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=s))}if(null!==o){var d=i.baseState;for(a=0,c=u=s=null,l=o;;){var f=l.lane,h=l.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,m=l;switch(f=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=M({},d,f);break e;case 2:Ao=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===c?(u=c=h,s=d):c=c.next=h,a|=f;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(f=l).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(s=d),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);As|=a,e.lanes=a,e.memoizedState=d}}function Wo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Bo={},Ko=Ci(Bo),qo=Ci(Bo),Qo=Ci(Bo);function Go(e){if(e===Bo)throw Error(o(174));return e}function Jo(e,t){switch(xi(Qo,t),xi(qo,e),xi(Ko,Bo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Ko),xi(Ko,t)}function Xo(){Ti(Ko),Ti(qo),Ti(Qo)}function Yo(e){Go(Qo.current);var t=Go(Ko.current),n=se(t,e.type);t!==n&&(xi(qo,e),xi(Ko,n))}function Zo(e){qo.current===e&&(Ti(Ko),Ti(qo))}var ea=Ci(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=S.ReactCurrentDispatcher,oa=S.ReactCurrentBatchConfig,aa=0,la=null,sa=null,ua=null,ca=!1,da=!1,fa=0,ha=0;function pa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,la=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:el,e=n(r,i),da){a=0;do{if(da=!1,fa=0,25<=a)throw Error(o(301));a+=1,ua=sa=null,t.updateQueue=null,ia.current=tl,e=n(r,i)}while(da)}if(ia.current=Ya,t=null!==sa&&null!==sa.next,aa=0,ua=sa=la=null,ca=!1,t)throw Error(o(300));return e}function va(){var e=0!==fa;return fa=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?la.memoizedState=ua=e:ua=ua.next=e,ua}function ba(){if(null===sa){var e=la.alternate;e=null!==e?e.memoizedState:null}else e=sa.next;var t=null===ua?la.memoizedState:ua.next;if(null!==t)ua=t,sa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(sa=e).memoizedState,baseState:sa.baseState,baseQueue:sa.baseQueue,queue:sa.queue,next:null},null===ua?la.memoizedState=ua=e:ua=ua.next=e}return ua}function Sa(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=sa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var l=i.next;i.next=a.next,a.next=l}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=l=null,u=null,c=a;do{var d=c.lane;if((aa&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(s=u=f,l=r):u=u.next=f,la.lanes|=d,As|=d}c=c.next}while(null!==c&&c!==a);null===u?l=r:u.next=s,lr(r,t.memoizedState)||(bl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,la.lanes|=a,As|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ea(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var l=i=i.next;do{a=e(a,l.action),l=l.next}while(l!==i);lr(a,t.memoizedState)||(bl=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Ca(e,t){var n=la,r=ba(),i=t(),a=!lr(r.memoizedState,i);if(a&&(r.memoizedState=i,bl=!0),r=r.queue,Aa(_a.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,Da(9,xa.bind(null,n,r,i,t),void 0,null),null===zs)throw Error(o(349));0!==(30&aa)||Ta(n,t,i)}return i}function Ta(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=la.updateQueue)?(t={lastEffect:null,stores:null},la.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xa(e,t,n,r){t.value=n,t.getSnapshot=r,Pa(t)&&za(e)}function _a(e,t,n){return n((function(){Pa(t)&&za(e)}))}function Pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function za(e){var t=Ro(e,1);null!==t&&nu(t,e,1,-1)}function Ia(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t.queue=e,e=e.dispatch=Qa.bind(null,la,e),[t.memoizedState,e]}function Da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=la.updateQueue)?(t={lastEffect:null,stores:null},la.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function La(){return ba().memoizedState}function Oa(e,t,n,r){var i=ya();la.flags|=e,i.memoizedState=Da(1|t,n,void 0,void 0===r?null:r)}function Na(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==sa){var a=sa.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Da(t,n,o,r))}la.flags|=e,i.memoizedState=Da(1|t,n,o,r)}function Ra(e,t){return Oa(8390656,8,e,t)}function Aa(e,t){return Na(2048,8,e,t)}function Ma(e,t){return Na(4,2,e,t)}function Fa(e,t){return Na(4,4,e,t)}function Ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ja(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4,4,Ua.bind(null,t,e),n)}function $a(){}function Va(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wa(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bl=!0),e.memoizedState=n):(lr(n,t)||(n=mt(),la.lanes|=n,As|=n,e.baseState=!0),t)}function Ba(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Ka(){return ba().memoizedState}function qa(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ga(e))Ja(t,n);else if(null!==(n=No(e,t,n,r))){nu(n,e,r,eu()),Xa(n,t,r)}}function Qa(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ga(e))Ja(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,lr(l,a)){var s=t.interleaved;return null===s?(i.next=i,Oo(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=No(e,t,i,r))&&(nu(n,e,r,i=eu()),Xa(n,t,r))}}function Ga(e){var t=e.alternate;return e===la||null!==t&&t===la}function Ja(e,t){da=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ya={readContext:Do,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:Do,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Do,useEffect:Ra,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qa.bind(null,la,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Ia,useDebugValue:$a,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=Ba.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=la,i=ya();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===zs)throw Error(o(349));0!==(30&aa)||Ta(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ra(_a.bind(null,r,a,e),[e]),r.flags|=2048,Da(9,xa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=zs.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-at(Ji)-1)).toString(32)+n),0<(n=fa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},el={readContext:Do,useCallback:Va,useContext:Do,useEffect:Aa,useImperativeHandle:ja,useInsertionEffect:Ma,useLayoutEffect:Fa,useMemo:Ha,useReducer:wa,useRef:La,useState:function(){return wa(Sa)},useDebugValue:$a,useDeferredValue:function(e){return Wa(ba(),sa.memoizedState,e)},useTransition:function(){return[wa(Sa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ca,useId:Ka,unstable_isNewReconciler:!1},tl={readContext:Do,useCallback:Va,useContext:Do,useEffect:Aa,useImperativeHandle:ja,useInsertionEffect:Ma,useLayoutEffect:Fa,useMemo:Ha,useReducer:Ea,useRef:La,useState:function(){return Ea(Sa)},useDebugValue:$a,useDeferredValue:function(e){var t=ba();return null===sa?t.memoizedState=e:Wa(t,sa.memoizedState,e)},useTransition:function(){return[Ea(Sa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ca,useId:Ka,unstable_isNewReconciler:!1};function nl(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rl(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var il={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=jo(e,o,i))&&(nu(t,e,i,r),$o(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=jo(e,o,i))&&(nu(t,e,i,r),$o(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=jo(e,i,r))&&(nu(t,e,r,n),$o(t,e,r))}};function ol(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,o))}function al(e,t,n){var r=!1,i=_i,o=t.contextType;return"object"===typeof o&&null!==o?o=Do(o):(i=Li(t)?Ii:Pi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):_i),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=il,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ll(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&il.enqueueReplaceState(t,t.state,null)}function sl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Mo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Do(o):(o=Li(t)?Ii:Pi.current,i.context=Di(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rl(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&il.enqueueReplaceState(i,i.state,null),Ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ul(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function cl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fl="function"===typeof WeakMap?WeakMap:Map;function hl(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Bs=r),dl(0,t)},n}function pl(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){dl(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){dl(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ml(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function gl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vl(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,jo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yl=S.ReactCurrentOwner,bl=!1;function Sl(e,t,n,r){t.child=null===e?Eo(t,null,n,r):wo(t,e.child,n,r)}function wl(e,t,n,r,i){n=n.render;var o=t.ref;return Io(t,i),r=ga(e,t,n,r,o,i),n=va(),null===e||bl?(io&&n&&eo(t),t.flags|=1,Sl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wl(e,t,i))}function El(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Lu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,kl(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(a,r)&&e.ref===t.ref)return Wl(e,t,i)}return t.flags|=1,(e=Ou(o,r)).ref=t.ref,e.return=t,t.child=e}function kl(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(sr(o,r)&&e.ref===t.ref){if(bl=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Wl(e,t,i);0!==(131072&e.flags)&&(bl=!0)}}return xl(e,t,n,r,i)}function Cl(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Os,Ls),Ls|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Os,Ls),Ls|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,xi(Os,Ls),Ls|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,xi(Os,Ls),Ls|=r;return Sl(e,t,i,n),t.child}function Tl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xl(e,t,n,r,i){var o=Li(n)?Ii:Pi.current;return o=Di(t,o),Io(t,i),n=ga(e,t,n,r,o,i),r=va(),null===e||bl?(io&&r&&eo(t),t.flags|=1,Sl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wl(e,t,i))}function _l(e,t,n,r,i){if(Li(n)){var o=!0;Ai(t)}else o=!1;if(Io(t,i),null===t.stateNode)Hl(e,t),al(t,n,r),sl(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Do(u):u=Di(t,u=Li(n)?Ii:Pi.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(l!==r||s!==u)&&ll(t,a,r,u),Ao=!1;var f=t.memoizedState;a.state=f,Ho(t,r,a,i),s=t.memoizedState,l!==r||f!==s||zi.current||Ao?("function"===typeof c&&(rl(t,n,c,r),s=t.memoizedState),(l=Ao||ol(t,n,l,r,f,s,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=u,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:nl(t.type,l),a.props=u,d=t.pendingProps,f=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=Do(s):s=Di(t,s=Li(n)?Ii:Pi.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(l!==d||f!==s)&&ll(t,a,r,s),Ao=!1,f=t.memoizedState,a.state=f,Ho(t,r,a,i);var p=t.memoizedState;l!==d||f!==p||zi.current||Ao?("function"===typeof h&&(rl(t,n,h,r),p=t.memoizedState),(u=Ao||ol(t,n,u,r,f,p,s)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,r=u):("function"!==typeof a.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Pl(e,t,n,r,o,i)}function Pl(e,t,n,r,i,o){Tl(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Wl(e,t,o);r=t.stateNode,yl.current=t;var l=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,l,o)):Sl(e,t,l,o),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function zl(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),Jo(e,t.containerInfo)}function Il(e,t,n,r,i){return po(),mo(i),t.flags|=256,Sl(e,t,n,r),t.child}var Dl,Ll,Ol,Nl,Rl={dehydrated:null,treeContext:null,retryLane:0};function Al(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ml(e,t,n){var r,i=t.pendingProps,a=ea.current,l=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),xi(ea,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,l?(i=t.mode,l=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==l?(l.childLanes=0,l.pendingProps=s):l=Au(s,i,0,null),e=Ru(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Al(n),t.memoizedState=Rl,e):Fl(t,s));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,l){if(n)return 256&t.flags?(t.flags&=-257,Ul(e,t,l,r=cl(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Au({mode:"visible",children:r.children},i,0,null),(a=Ru(a,i,l,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&wo(t,e.child,null,l),t.child.memoizedState=Al(l),t.memoizedState=Rl,a);if(0===(1&t.mode))return Ul(e,t,l,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Ul(e,t,l,r=cl(a=Error(o(419)),r,void 0))}if(s=0!==(l&e.childLanes),bl||s){if(null!==(r=zs)){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|l))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ro(e,i),nu(r,e,i,-1))}return mu(),Ul(e,t,l,r=cl(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_u.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(qi[Qi++]=Ji,qi[Qi++]=Xi,qi[Qi++]=Gi,Ji=e.id,Xi=e.overflow,Gi=t),t=Fl(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,a,n);if(l){l=i.fallback,s=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ou(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?l=Ou(r,l):(l=Ru(l,s,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,s=null===(s=e.child.memoizedState)?Al(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=Rl,i}return e=(l=e.child).sibling,i=Ou(l,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fl(e,t){return(t=Au({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ul(e,t,n,r){return null!==r&&mo(r),wo(t,e.child,null,n),(e=Fl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function jl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),zo(e.return,t,n)}function $l(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vl(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Sl(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&jl(e,n,t);else if(19===e.tag)jl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$l(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$l(t,!0,n,null,o);break;case"together":$l(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),As|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Bl(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ql(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kl(t),null;case 1:case 17:return Li(t.type)&&Oi(),Kl(t),null;case 3:return r=t.stateNode,Xo(),Ti(zi),Ti(Pi),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Ll(e,t),Kl(t),null;case 5:Zo(t);var i=Go(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ol(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Kl(t),null}if(e=Go(Ko.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var s in ye(n,a),i=null,a)if(a.hasOwnProperty(s)){var u=a[s];"children"===s?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Yr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Yr(r.textContent,u,e),i=["children",""+u]):l.hasOwnProperty(s)&&null!=u&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fi]=t,e[hi]=r,Dl(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=G(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Ur("scroll",e):null!=c&&b(e,a,c,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Kl(t),null;case 6:if(e&&null!=t.stateNode)Nl(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Go(Qo.current),Go(Ko.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Kl(t),null;case 13:if(Ti(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Kl(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Ns&&(Ns=3):mu())),null!==t.updateQueue&&(t.flags|=4),Kl(t),null);case 4:return Xo(),Ll(e,t),null===e&&Vr(t.stateNode.containerInfo),Kl(t),null;case 10:return Po(t.type._context),Kl(t),null;case 19:if(Ti(ea),null===(a=t.memoizedState))return Kl(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)Bl(a,!1);else{if(0!==Ns||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=ta(e))){for(t.flags|=128,Bl(a,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Vs&&(t.flags|=128,r=!0,Bl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Bl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!io)return Kl(t),null}else 2*Xe()-a.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=128,r=!0,Bl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=a.last)?n.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ea.current,xi(ea,r?1&n|2:1&n),t):(Kl(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ls)&&(Kl(t),6&t.subtreeFlags&&(t.flags|=8192)):Kl(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ql(e,t){switch(to(t),t.tag){case 1:return Li(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),Ti(zi),Ti(Pi),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ti(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ea),null;case 4:return Xo(),null;case 10:return Po(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Dl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ll=function(){},Ol=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Go(Ko.current);var o,a=null;switch(n){case"input":i=G(e,i),r=G(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(l.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==s&&(null!=u||null!=s))if("style"===c)if(s){for(o in s)!s.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&s[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(l.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ur("scroll",e),a||s===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Nl=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gl=!1,Jl=!1,Xl="function"===typeof WeakSet?WeakSet:Set,Yl=null;function Zl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cu(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Cu(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&es(t,n,o)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function as(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||as(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function us(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(us(e,t,n),e=e.sibling;null!==e;)us(e,t,n),e=e.sibling}var cs=null,ds=!1;function fs(e,t,n){for(n=n.child;null!==n;)hs(e,t,n),n=n.sibling}function hs(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(l){}switch(n.tag){case 5:Jl||Zl(n,t);case 6:var r=cs,i=ds;cs=null,fs(e,t,n),ds=i,null!==(cs=r)&&(ds?(e=cs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cs.removeChild(n.stateNode));break;case 18:null!==cs&&(ds?(e=cs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Vt(e)):si(cs,n.stateNode));break;case 4:r=cs,i=ds,cs=n.stateNode.containerInfo,ds=!0,fs(e,t,n),cs=r,ds=i;break;case 0:case 11:case 14:case 15:if(!Jl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&es(n,t,a),i=i.next}while(i!==r)}fs(e,t,n);break;case 1:if(!Jl&&(Zl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Cu(n,t,l)}fs(e,t,n);break;case 21:fs(e,t,n);break;case 22:1&n.mode?(Jl=(r=Jl)||null!==n.memoizedState,fs(e,t,n),Jl=r):fs(e,t,n);break;default:fs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xl),t.forEach((function(t){var r=Pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 5:cs=s.stateNode,ds=!1;break e;case 3:case 4:cs=s.stateNode.containerInfo,ds=!0;break e}s=s.return}if(null===cs)throw Error(o(160));hs(a,l,i),cs=null,ds=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Cu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gs(t,e),t=t.sibling}function gs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),vs(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(g){Cu(e,e.return,g)}try{ns(5,e,e.return)}catch(g){Cu(e,e.return,g)}}break;case 1:ms(t,e),vs(e),512&r&&null!==n&&Zl(n,n.return);break;case 5:if(ms(t,e),vs(e),512&r&&null!==n&&Zl(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){Cu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,l=null!==n?n.memoizedProps:a,s=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===s&&"radio"===a.type&&null!=a.name&&X(i,a),be(s,l);var c=be(s,a);for(l=0;l<u.length;l+=2){var d=u[l],f=u[l+1];"style"===d?ge(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,c)}switch(s){case"input":Y(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(g){Cu(e,e.return,g)}}break;case 6:if(ms(t,e),vs(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Cu(e,e.return,g)}}break;case 3:if(ms(t,e),vs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Cu(e,e.return,g)}break;case 4:default:ms(t,e),vs(e);break;case 13:ms(t,e),vs(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||($s=Xe())),4&r&&ps(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Jl=(c=Jl)||d,ms(t,e),Jl=c):ms(t,e),vs(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Yl=e,d=e.child;null!==d;){for(f=Yl=d;null!==Yl;){switch(p=(h=Yl).child,h.tag){case 0:case 11:case 14:case 15:ns(4,h,h.return);break;case 1:Zl(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Cu(r,n,g)}}break;case 5:Zl(h,h.return);break;case 22:if(null!==h.memoizedState){ws(f);continue}}null!==p?(p.return=h,Yl=p):ws(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(s=f.stateNode,l=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,s.style.display=me("display",l))}catch(g){Cu(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Cu(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ms(t,e),vs(e),4&r&&ps(e);case 21:}}function vs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(as(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),us(e,ls(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ss(e,ls(e),a);break;default:throw Error(o(161))}}catch(l){Cu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ys(e,t,n){Yl=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Yl;){var i=Yl,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Gl;if(!a){var l=i.alternate,s=null!==l&&null!==l.memoizedState||Jl;l=Gl;var u=Jl;if(Gl=a,(Jl=s)&&!u)for(Yl=i;null!==Yl;)s=(a=Yl).child,22===a.tag&&null!==a.memoizedState?Es(i):null!==s?(s.return=a,Yl=s):Es(i);for(;null!==o;)Yl=o,bs(o,t,n),o=o.sibling;Yl=i,Gl=l,Jl=u}Ss(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Yl=o):Ss(e)}}function Ss(e){for(;null!==Yl;){var t=Yl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jl||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Jl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:nl(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Wo(t,a,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wo(t,l,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(o(163))}Jl||512&t.flags&&is(t)}catch(h){Cu(t,t.return,h)}}if(t===e){Yl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Yl=n;break}Yl=t.return}}function ws(e){for(;null!==Yl;){var t=Yl;if(t===e){Yl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Yl=n;break}Yl=t.return}}function Es(e){for(;null!==Yl;){var t=Yl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Cu(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Cu(t,i,s)}}var o=t.return;try{is(t)}catch(s){Cu(t,o,s)}break;case 5:var a=t.return;try{is(t)}catch(s){Cu(t,a,s)}}}catch(s){Cu(t,t.return,s)}if(t===e){Yl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Yl=l;break}Yl=t.return}}var ks,Cs=Math.ceil,Ts=S.ReactCurrentDispatcher,xs=S.ReactCurrentOwner,_s=S.ReactCurrentBatchConfig,Ps=0,zs=null,Is=null,Ds=0,Ls=0,Os=Ci(0),Ns=0,Rs=null,As=0,Ms=0,Fs=0,Us=null,js=null,$s=0,Vs=1/0,Hs=null,Ws=!1,Bs=null,Ks=null,qs=!1,Qs=null,Gs=0,Js=0,Xs=null,Ys=-1,Zs=0;function eu(){return 0!==(6&Ps)?Xe():-1!==Ys?Ys:Ys=Xe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Ps)&&0!==Ds?Ds&-Ds:null!==go.transition?(0===Zs&&(Zs=mt()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nu(e,t,n,r){if(50<Js)throw Js=0,Xs=null,Error(o(185));vt(e,n,r),0!==(2&Ps)&&e===zs||(e===zs&&(0===(2&Ps)&&(Ms|=n),4===Ns&&lu(e,Ds)),ru(e,r),1===n&&0===Ps&&0===(1&t.mode)&&(Vs=Xe()+500,Ui&&Vi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),l=1<<a,s=i[a];-1===s?0!==(l&n)&&0===(l&r)||(i[a]=ht(l,t)):s<=t&&(e.expiredLanes|=l),o&=~l}}(e,t);var r=ft(e,e===zs?Ds:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,$i(e)}(su.bind(null,e)):$i(su.bind(null,e)),ai((function(){0===(6&Ps)&&Vi()})),n=null;else{switch(St(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=zu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Ys=-1,Zs=0,0!==(6&Ps))throw Error(o(327));var n=e.callbackNode;if(Eu()&&e.callbackNode!==n)return null;var r=ft(e,e===zs?Ds:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Ps;Ps|=2;var a=pu();for(zs===e&&Ds===t||(Hs=null,Vs=Xe()+500,fu(e,t));;)try{yu();break}catch(s){hu(e,s)}_o(),Ts.current=a,Ps=i,null!==Is?t=0:(zs=null,Ds=0,t=Ns)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t)throw n=Rs,fu(e,0),lu(e,r),ru(e,Xe()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!lr(o(),i))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(a=pt(e))&&(r=a,t=ou(e,a))),1===t))throw n=Rs,fu(e,0),lu(e,r),ru(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wu(e,js,Hs);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=$s+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wu.bind(null,e,js,Hs),t);break}wu(e,js,Hs);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-at(r);a=1<<l,(l=t[l])>i&&(i=l),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cs(r/1960))-r)){e.timeoutHandle=ri(wu.bind(null,e,js,Hs),r);break}wu(e,js,Hs);break;default:throw Error(o(329))}}}return ru(e,Xe()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=js,js=n,null!==t&&au(t)),e}function au(e){null===js?js=e:js.push.apply(js,e)}function lu(e,t){for(t&=~Fs,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function su(e){if(0!==(6&Ps))throw Error(o(327));Eu();var t=ft(e,0);if(0===(1&t))return ru(e,Xe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Rs,fu(e,0),lu(e,t),ru(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,js,Hs),ru(e,Xe()),null}function uu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Vs=Xe()+500,Ui&&Vi())}}function cu(e){null!==Qs&&0===Qs.tag&&0===(6&Ps)&&Eu();var t=Ps;Ps|=1;var n=_s.transition,r=bt;try{if(_s.transition=null,bt=1,e)return e()}finally{bt=r,_s.transition=n,0===(6&(Ps=t))&&Vi()}}function du(){Ls=Os.current,Ti(Os)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Is)for(n=Is.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Xo(),Ti(zi),Ti(Pi),ra();break;case 5:Zo(r);break;case 4:Xo();break;case 13:case 19:Ti(ea);break;case 10:Po(r.type._context);break;case 22:case 23:du()}n=n.return}if(zs=e,Is=e=Ou(e.current,null),Ds=Ls=t,Ns=0,Rs=null,Fs=Ms=As=0,js=Us=null,null!==Lo){for(t=0;t<Lo.length;t++)if(null!==(r=(n=Lo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Lo=null}return e}function hu(e,t){for(;;){var n=Is;try{if(_o(),ia.current=Ya,ca){for(var r=la.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(aa=0,ua=sa=la=null,da=!1,fa=0,xs.current=null,null===n||null===n.return){Ns=1,Rs=t,Is=null;break}e:{var a=e,l=n.return,s=n,u=t;if(t=Ds,s.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=s,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gl(l);if(null!==p){p.flags&=-257,vl(p,l,s,0,t),1&p.mode&&ml(a,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ml(a,c,t),mu();break e}u=Error(o(426))}else if(io&&1&s.mode){var v=gl(l);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vl(v,l,s,0,t),mo(ul(u,s));break e}}a=u=ul(u,s),4!==Ns&&(Ns=2),null===Us?Us=[a]:Us.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vo(a,hl(0,u,t));break e;case 1:s=u;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ks||!Ks.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Vo(a,pl(a,s,t));break e}}a=a.return}while(null!==a)}Su(n)}catch(S){t=S,Is===n&&null!==n&&(Is=n=n.return);continue}break}}function pu(){var e=Ts.current;return Ts.current=Ya,null===e?Ya:e}function mu(){0!==Ns&&3!==Ns&&2!==Ns||(Ns=4),null===zs||0===(268435455&As)&&0===(268435455&Ms)||lu(zs,Ds)}function gu(e,t){var n=Ps;Ps|=2;var r=pu();for(zs===e&&Ds===t||(Hs=null,fu(e,t));;)try{vu();break}catch(i){hu(e,i)}if(_o(),Ps=n,Ts.current=r,null!==Is)throw Error(o(261));return zs=null,Ds=0,Ns}function vu(){for(;null!==Is;)bu(Is)}function yu(){for(;null!==Is&&!Ge();)bu(Is)}function bu(e){var t=ks(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Su(e):Is=t,xs.current=null}function Su(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ql(n,t,Ls)))return void(Is=n)}else{if(null!==(n=Ql(n,t)))return n.flags&=32767,void(Is=n);if(null===e)return Ns=6,void(Is=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Is=t);Is=t=e}while(null!==t);0===Ns&&(Ns=5)}function wu(e,t,n){var r=bt,i=_s.transition;try{_s.transition=null,bt=1,function(e,t,n,r){do{Eu()}while(null!==Qs);if(0!==(6&Ps))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===zs&&(Is=zs=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||qs||(qs=!0,zu(tt,(function(){return Eu(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=_s.transition,_s.transition=null;var l=bt;bt=1;var s=Ps;Ps|=4,xs.current=null,function(e,t){if(ei=Wt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var l=0,s=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(s=l+i),f!==a||0!==r&&3!==f.nodeType||(u=l+r),3===f.nodeType&&(l+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(s=l),h===a&&++d===r&&(u=l),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Yl=t;null!==Yl;)if(e=(t=Yl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yl=e;else for(;null!==Yl;){t=Yl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:nl(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=t.stateNode.containerInfo;1===S.nodeType?S.textContent="":9===S.nodeType&&S.documentElement&&S.removeChild(S.documentElement);break;default:throw Error(o(163))}}catch(w){Cu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Yl=e;break}Yl=t.return}m=ts,ts=!1}(e,n),gs(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ys(n,e,i),Je(),Ps=s,bt=l,_s.transition=a}else e.current=n;if(qs&&(qs=!1,Qs=e,Gs=i),a=e.pendingLanes,0===a&&(Ks=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Bs,Bs=null,e;0!==(1&Gs)&&0!==e.tag&&Eu(),a=e.pendingLanes,0!==(1&a)?e===Xs?Js++:(Js=0,Xs=e):Js=0,Vi()}(e,t,n,r)}finally{_s.transition=i,bt=r}return null}function Eu(){if(null!==Qs){var e=St(Gs),t=_s.transition,n=bt;try{if(_s.transition=null,bt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Gs=0,0!==(6&Ps))throw Error(o(331));var i=Ps;for(Ps|=4,Yl=e.current;null!==Yl;){var a=Yl,l=a.child;if(0!==(16&Yl.flags)){var s=a.deletions;if(null!==s){for(var u=0;u<s.length;u++){var c=s[u];for(Yl=c;null!==Yl;){var d=Yl;switch(d.tag){case 0:case 11:case 15:ns(8,d,a)}var f=d.child;if(null!==f)f.return=d,Yl=f;else for(;null!==Yl;){var h=(d=Yl).sibling,p=d.return;if(os(d),d===c){Yl=null;break}if(null!==h){h.return=p,Yl=h;break}Yl=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Yl=a}}if(0!==(2064&a.subtreeFlags)&&null!==l)l.return=a,Yl=l;else e:for(;null!==Yl;){if(0!==(2048&(a=Yl).flags))switch(a.tag){case 0:case 11:case 15:ns(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Yl=y;break e}Yl=a.return}}var b=e.current;for(Yl=b;null!==Yl;){var S=(l=Yl).child;if(0!==(2064&l.subtreeFlags)&&null!==S)S.return=l,Yl=S;else e:for(l=b;null!==Yl;){if(0!==(2048&(s=Yl).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(E){Cu(s,s.return,E)}if(s===l){Yl=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Yl=w;break e}Yl=s.return}}if(Ps=i,Vi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,_s.transition=t}}return!1}function ku(e,t,n){e=jo(e,t=hl(0,t=ul(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function Cu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=jo(t,e=pl(t,e=ul(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,zs===e&&(Ds&n)===n&&(4===Ns||3===Ns&&(130023424&Ds)===Ds&&500>Xe()-$s?fu(e,0):Fs|=n),ru(e,t)}function xu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ro(e,t))&&(vt(e,t,n),ru(e,n))}function _u(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xu(e,n)}function Pu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),xu(e,n)}function zu(e,t){return qe(e,t)}function Iu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Du(e,t,n,r){return new Iu(e,t,n,r)}function Lu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Du(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,r,i,a){var l=2;if(r=e,"function"===typeof e)Lu(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case k:return Ru(n.children,i,a,t);case C:l=8,i|=8;break;case T:return(e=Du(12,n,t,2|i)).elementType=T,e.lanes=a,e;case z:return(e=Du(13,n,t,i)).elementType=z,e.lanes=a,e;case I:return(e=Du(19,n,t,i)).elementType=I,e.lanes=a,e;case O:return Au(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:l=10;break e;case _:l=9;break e;case P:l=11;break e;case D:l=14;break e;case L:l=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Du(l,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ru(e,t,n,r){return(e=Du(7,e,r,t)).lanes=n,e}function Au(e,t,n,r){return(e=Du(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Mu(e,t,n){return(e=Du(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Du(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ju(e,t,n,r,i,o,a,l,s){return e=new Uu(e,t,n,l,s),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Du(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mo(o),e}function $u(e){if(!e)return _i;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Li(n))return Ri(e,n,t)}return t}function Vu(e,t,n,r,i,o,a,l,s){return(e=ju(n,r,!0,e,0,o,0,l,s)).context=$u(null),n=e.current,(o=Uo(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,jo(n,o,i),e.current.lanes=i,vt(e,i,r),ru(e,r),e}function Hu(e,t,n,r){var i=t.current,o=eu(),a=tu(i);return n=$u(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=jo(i,t,a))&&(nu(e,i,a,o),$o(e,i,a)),a}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Bu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ku(e,t){Bu(e,t),(e=e.alternate)&&Bu(e,t)}ks=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||zi.current)bl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bl=!1,function(e,t,n){switch(t.tag){case 3:zl(t),po();break;case 5:Yo(t);break;case 1:Li(t.type)&&Ai(t);break;case 4:Jo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(ko,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ml(e,t,n):(xi(ea,1&ea.current),null!==(e=Wl(e,t,n))?e.sibling:null);xi(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Cl(e,t,n)}return Wl(e,t,n)}(e,t,n);bl=0!==(131072&e.flags)}else bl=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hl(e,t),e=t.pendingProps;var i=Di(t,Pi.current);Io(t,n),i=ga(null,t,r,e,i,n);var a=va();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(a=!0,Ai(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Mo(t),i.updater=il,t.stateNode=i,i._reactInternals=t,sl(t,r,e,n),t=Pl(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),Sl(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hl(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Lu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===D)return 14}return 2}(r),e=nl(r,e),i){case 0:t=xl(null,t,r,e,n);break e;case 1:t=_l(null,t,r,e,n);break e;case 11:t=wl(null,t,r,e,n);break e;case 14:t=El(null,t,r,nl(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xl(e,t,r,i=t.elementType===r?i:nl(r,i),n);case 1:return r=t.type,i=t.pendingProps,_l(e,t,r,i=t.elementType===r?i:nl(r,i),n);case 3:e:{if(zl(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),Ho(t,r,null,n);var l=t.memoizedState;if(r=l.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Il(e,t,r,n,i=ul(Error(o(423)),t));break e}if(r!==i){t=Il(e,t,r,n,i=ul(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Eo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Wl(e,t,n);break e}Sl(e,t,r,n)}t=t.child}return t;case 5:return Yo(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,l=i.children,ni(r,i)?l=null:null!==a&&ni(r,a)&&(t.flags|=32),Tl(e,t),Sl(e,t,l,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Ml(e,t,n);case 4:return Jo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):Sl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wl(e,t,r,i=t.elementType===r?i:nl(r,i),n);case 7:return Sl(e,t,t.pendingProps,n),t.child;case 8:case 12:return Sl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,xi(ko,r._currentValue),r._currentValue=l,null!==a)if(lr(a.value,l)){if(a.children===i.children&&!zi.current){t=Wl(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){l=a.child;for(var u=s.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Uo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),zo(a.return,n,t),s.lanes|=n;break}u=u.next}}else if(10===a.tag)l=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(l=a.return))throw Error(o(341));l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),zo(l,n,t),l=a.sibling}else l=a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===t){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}Sl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Io(t,n),r=r(i=Do(i)),t.flags|=1,Sl(e,t,r,n),t.child;case 14:return i=nl(r=t.type,t.pendingProps),El(e,t,r,i=nl(r.type,i),n);case 15:return kl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:nl(r,i),Hl(e,t),t.tag=1,Li(r)?(e=!0,Ai(t)):e=!1,Io(t,n),al(t,r,i),sl(t,r,i,n),Pl(null,t,r,!0,e,n);case 19:return Vl(e,t,n);case 22:return Cl(e,t,n)}throw Error(o(156,t.tag))};var qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}function Gu(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yu(){}function Zu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var l=i;i=function(){var e=Wu(a);l.call(e)}}Hu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wu(a);o.call(e)}}var a=Vu(t,r,e,0,null,!1,0,"",Yu);return e._reactRootContainer=a,e[pi]=a.current,Vr(8===e.nodeType?e.parentNode:e),cu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var l=r;r=function(){var e=Wu(s);l.call(e)}}var s=ju(e,0,!1,null,0,!1,0,"",Yu);return e._reactRootContainer=s,e[pi]=s.current,Vr(8===e.nodeType?e.parentNode:e),cu((function(){Hu(t,s,n,r)})),s}(n,t,e,i,r);return Wu(a)}Gu.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hu(e,t,null,null)},Gu.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Hu(null,e,null,null)})),t[pi]=null}},Gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Xe()),0===(6&Ps)&&(Vs=Xe()+500,Vi()))}break;case 13:cu((function(){var t=Ro(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Ku(e,1)}},Et=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)nu(t,e,134217728,eu());Ku(e,134217728)}},kt=function(e){if(13===e.tag){var t=tu(e),n=Ro(e,t);if(null!==n)nu(n,e,t,eu());Ku(e,t)}},Ct=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));q(r),Y(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=uu,ze=cu;var ec={usingClientEntryPoint:!1,Events:[bi,Si,wi,xe,_e,uu]},tc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Be(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ju(e))throw Error(o(299));var n=!1,r="",i=qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=ju(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Be(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(o(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",l=qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,i,0,a,l),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(o(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(43),t=n(391),r=n(581),i=n.n(r);class o{constructor(){this.isInitialized=!1,this.config={},this.defaultConfig={assistant:{language:"ar-SA",defaultDialect:"khaliji",defaultTone:"cheerful",defaultVoiceProfile:"GULF_FEMALE_ARIA"},emotion:{detectionEnabled:!0,culturalContextEnabled:!0,timelineEnabled:!0,threshold:.65,culturalContext:"standard",advanced:{sensitivityLevel:"medium",contextAwareness:!0,dialectSpecificPatterns:!0}},voice:{enabled:!0,useElevenLabs:!1,elevenlabsApiKey:""},api:{useFlaskBackend:!0,useMultiengine:!0},memory:{maxEpisodicMemories:100,consolidationInterval:864e5},system:{debugMode:!1,logLevel:"info",performanceMonitoring:!0,errorReporting:!0},theme:{accentColor:"#9370db",darkMode:!1,fontScale:1,animationsEnabled:!0},subscription:{plans:[{id:"free",name:"Free",features:["basicEmotionDetection"]},{id:"premium",name:"Premium",features:["basicEmotionDetection","advancedEmotionDetection","facialEmotionDetection","emotionTimeline"]}]}}}async initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isInitialized)return this;try{return await i().initialize(),this.config=this.mergeConfigs(this.defaultConfig,i().getAll(),e),this.isInitialized=!0,console.log("\u2705 Config service initialized"),this}catch(t){return console.error("Error initializing config service:",t),this.config=this.mergeConfigs(this.defaultConfig,e),this.isInitialized=!0,this}}mergeConfigs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>this.deepMerge(e,t)),{})}deepMerge(e,t){const n={...e};return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach((r=>{this.isObject(t[r])?n[r]=r in e?this.deepMerge(e[r],t[r]):t[r]:n[r]=t[r]})),n}isObject(e){return e&&"object"===typeof e&&!Array.isArray(e)}get(e,t){const n=e.split(".");let r=this.config;for(const i of n){if(void 0===r||null===r||"object"!==typeof r)return t;r=r[i]}return void 0!==r?r:t}set(e,t){const n=e.split("."),r=n.pop();let o=this.config;for(const i of n)void 0!==o[i]&&null!==o[i]&&"object"===typeof o[i]||(o[i]={}),o=o[i];o[r]=t;try{i().set(e,t)}catch(a){console.error(`Error saving config value for ${e}:`,a)}}getAll(){return{...this.config}}resetToDefaults(){this.config={...this.defaultConfig};try{i().resetToDefaults()}catch(e){console.error("Error resetting config to defaults:",e)}}async save(){try{return await i().saveAll(this.config),!0}catch(e){return console.error("Error saving config:",e),!1}}}const a={DEBUG:0,INFO:1,WARN:2,ERROR:3,NONE:4},l={level:"info",enableConsole:!0,prefix:"[Mashaaer]",enableTimestamp:!0,remoteLogging:{enabled:!1,endpoint:""}};const s=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options={...l,...e},this.currentLevel=a[this.options.level.toUpperCase()]||a.INFO}configure(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options={...this.options,...e},this.currentLevel=a[this.options.level.toUpperCase()]||this.currentLevel}_formatMessage(e,t,n){const r=[];return this.options.prefix&&r.push(this.options.prefix),this.options.enableTimestamp&&r.push((new Date).toISOString()),r.push(`[${e.toUpperCase()}]`),r.push(t),r.join(" ")}_log(e,t,n,r){if(e<this.currentLevel)return;const i=this._formatMessage(t,n,r);if(this.options.enableConsole)switch(t){case"debug":console.debug(i,r||"");break;case"info":console.info(i,r||"");break;case"warn":console.warn(i,r||"");break;case"error":console.error(i,r||"")}}debug(e,t){this._log(a.DEBUG,"debug",e,t)}info(e,t){this._log(a.INFO,"info",e,t)}warn(e,t){this._log(a.WARN,"warn",e,t)}error(e,t){this._log(a.ERROR,"error",e,t)}};class u{constructor(){this.isInitialized=!1,this.logger=s,this.configService=null,this.logQueue=[],this.isFlushingLogs=!1,this.flushInterval=null}initialize(e){if(this.isInitialized)return this;this.configService=e;const t=this.configService.get("system.logLevel","info"),n=this.configService.get("system.debugMode",!1),r=this.configService.get("system.remoteLogging.enabled",!1),i=this.configService.get("system.remoteLogging.endpoint",""),o=this.configService.get("system.remoteLogging.batchSize",10),a=this.configService.get("system.remoteLogging.flushInterval",5e3);return this.logger.configure({level:n?"debug":t,prefix:"[Mashaaer]",enableConsole:!0,enableTimestamp:!0,remoteLogging:{enabled:r,endpoint:i}}),r&&i&&this.setupRemoteLogging(o,a),this.isInitialized=!0,this.logger.info("Logging service initialized"),this}setupRemoteLogging(e,t){this.flushInterval=setInterval((()=>{this.flushLogs()}),t);const n=this.logger.debug,r=this.logger.info,i=this.logger.warn,o=this.logger.error;this.logger.debug=(e,t)=>{n.call(this.logger,e,t),this.queueLog("debug",e,t)},this.logger.info=(e,t)=>{r.call(this.logger,e,t),this.queueLog("info",e,t)},this.logger.warn=(e,t)=>{i.call(this.logger,e,t),this.queueLog("warn",e,t)},this.logger.error=(e,t)=>{o.call(this.logger,e,t),this.queueLog("error",e,t)},"undefined"!==typeof window&&window.addEventListener("beforeunload",(()=>{this.flushLogs(!0)}))}queueLog(e,t,n){if(!this.isInitialized)return;if(!this.configService.get("system.remoteLogging.enabled",!1))return;this.logQueue.push({level:e,message:t,data:n,timestamp:(new Date).toISOString()});const r=this.configService.get("system.remoteLogging.batchSize",10);this.logQueue.length>=r&&this.flushLogs()}async flushLogs(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isInitialized||this.isFlushingLogs||0===this.logQueue.length)return;const t=this.configService.get("system.remoteLogging.enabled",!1),n=this.configService.get("system.remoteLogging.endpoint","");if(!t||!n)return;this.isFlushingLogs=!0;const r=[...this.logQueue];this.logQueue=[];try{const t=()=>fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logs:r,source:"mashaaer-frontend",version:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERSION||"1.0.0"})});if(e&&"undefined"!==typeof navigator&&navigator.sendBeacon){const e=new Blob([JSON.stringify({logs:r,source:"mashaaer-frontend",version:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_VERSION||"1.0.0"})],{type:"application/json"});navigator.sendBeacon(n,e)}else await t()}catch(i){console.error("Error sending logs to remote service:",i),this.logQueue=[...r,...this.logQueue]}finally{this.isFlushingLogs=!1}}debug(e,t){this.logger.debug(e,t)}info(e,t){this.logger.info(e,t)}warn(e,t){this.logger.warn(e,t)}error(e,t){this.logger.error(e,t)}logServiceInit(e){this.info(`\u2705 ${e} initialized`)}logServiceError(e,t){this.error(`\u274c Error in ${e}:`,t)}createComponentLogger(e){return{debug:(t,n)=>this.debug(`[${e}] ${t}`,n),info:(t,n)=>this.info(`[${e}] ${t}`,n),warn:(t,n)=>this.warn(`[${e}] ${t}`,n),error:(t,n)=>this.error(`[${e}] ${t}`,n)}}}const c={VALIDATION:"VALIDATION_ERROR",NETWORK:"NETWORK_ERROR",AUTHENTICATION:"AUTHENTICATION_ERROR",AUTHORIZATION:"AUTHORIZATION_ERROR",NOT_FOUND:"NOT_FOUND_ERROR",SERVICE:"SERVICE_ERROR",UNEXPECTED:"UNEXPECTED_ERROR"};class d extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.UNEXPECTED,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e),this.name="AppError",this.type=t,this.details=n,this.timestamp=new Date,Error.captureStackTrace&&Error.captureStackTrace(this,d)}}const f=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.loggingService=e}setLoggingService(e){this.loggingService=e}logError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n={message:e.message,stack:e.stack,type:e.type||"UNKNOWN",details:e.details||null,context:t};this.loggingService?this.loggingService.error(`Error in ${t||"application"}:`,n):s.error(`Error in ${t||"application"}:`,n)}handleError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.logError(e,t),n&&"function"===typeof n&&n(e),e}createError(e){return new d(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.UNEXPECTED,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}createAndHandleError(e,t,n,r,i){const o=this.createError(e,t,n);return this.handleError(o,r,i)}createValidationError(e,t){return this.createError(e,c.VALIDATION,t)}createNetworkError(e,t){return this.createError(e,c.NETWORK,t)}createAuthenticationError(e,t){return this.createError(e,c.AUTHENTICATION,t)}createAuthorizationError(e,t){return this.createError(e,c.AUTHORIZATION,t)}createNotFoundError(e,t){return this.createError(e,c.NOT_FOUND,t)}createServiceError(e,t){return this.createError(e,c.SERVICE,t)}};class h{constructor(){this.isInitialized=!1,this.errorHandler=f,this.loggingService=null,this.configService=null}initialize(e,t){return this.isInitialized||(this.configService=e,this.loggingService=t,this.errorHandler.setLoggingService(t),this.isInitialized=!0,this.loggingService.info("Error service initialized")),this}handleError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.errorHandler.handleError(e,t,n)}createError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.UNEXPECTED,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.errorHandler.createError(e,t,n)}createAndHandleError(e,t,n,r,i){return this.errorHandler.createAndHandleError(e,t,n,r,i)}createValidationError(e,t){return this.errorHandler.createValidationError(e,t)}createNetworkError(e,t){return this.errorHandler.createNetworkError(e,t)}createAuthenticationError(e,t){return this.errorHandler.createAuthenticationError(e,t)}createAuthorizationError(e,t){return this.errorHandler.createAuthorizationError(e,t)}createNotFoundError(e,t){return this.errorHandler.createNotFoundError(e,t)}createServiceError(e,t){return this.errorHandler.createServiceError(e,t)}getErrorTypes(){return c}createComponentErrorHandler(e){var t=this;return{handleError:function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.handleError(n,e,r)},createAndHandleError:function(n,r,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t.createAndHandleError(n,r,i,e,o)}}}}const p=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!==typeof i||null===i)?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,i,o);return o},m=e=>e?p(e):p;var g=n(443);const{useDebugValue:v}=e,{useSyncExternalStoreWithSelector:y}=g;let b=!1;const S=e=>e;const w=e=>{"function"!==typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"===typeof e?m(e):e,n=(e,n)=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,n=arguments.length>2?arguments[2]:void 0;n&&!b&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),b=!0);const r=y(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return v(r),r}(t,e,n);return Object.assign(n,t),n},E=e=>e?w(e):w;const k=new Map,C=e=>{const t=k.get(e);return t?Object.fromEntries(Object.entries(t.stores).map((e=>{let[t,n]=e;return[t,n.getState()]}))):{}},T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(n,r,i)=>{const{enabled:o,anonymousActionType:a,store:l,...s}=t;let u;try{u=(null==o||o)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(m){}if(!u)return o&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,r,i);const{connection:c,...d}=((e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};const r=k.get(n.name);if(r)return{type:"tracked",store:e,...r};const i={connection:t.connect(n),stores:{}};return k.set(n.name,i),{type:"tracked",store:e,...i}})(l,u,s);let f=!0;i.setState=(e,t,o)=>{const u=n(e,t);if(!f)return u;const d=void 0===o?{type:a||"anonymous"}:"string"===typeof o?{type:o}:o;return void 0===l?(null==c||c.send(d,r()),u):(null==c||c.send({...d,type:`${l}/${d.type}`},{...C(s.name),[l]:i.getState()}),u)};const h=function(){const e=f;f=!1,n(...arguments),f=e},p=e(i.setState,r,i);if("untracked"===d.type?null==c||c.init(p):(d.stores[d.store]=i,null==c||c.init(Object.fromEntries(Object.entries(d.stores).map((e=>{let[t,n]=e;return[t,t===d.store?p:n.getState()]}))))),i.dispatchFromDevtools&&"function"===typeof i.dispatch){let e=!1;const t=i.dispatch;i.dispatch=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];"__setState"!==r[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...r)}}return c.subscribe((e=>{var t;switch(e.type){case"ACTION":return"string"!==typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):x(e.payload,(e=>{if("__setState"!==e.type)i.dispatchFromDevtools&&"function"===typeof i.dispatch&&i.dispatch(e);else{if(void 0===l)return void h(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const t=e.state[l];if(void 0===t||null===t)return;JSON.stringify(i.getState())!==JSON.stringify(t)&&h(t)}}));case"DISPATCH":switch(e.payload.type){case"RESET":return h(p),void 0===l?null==c?void 0:c.init(i.getState()):null==c?void 0:c.init(C(s.name));case"COMMIT":return void 0===l?void(null==c||c.init(i.getState())):null==c?void 0:c.init(C(s.name));case"ROLLBACK":return x(e.state,(e=>{if(void 0===l)return h(e),void(null==c||c.init(i.getState()));h(e[l]),null==c||c.init(C(s.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return x(e.state,(e=>{void 0!==l?JSON.stringify(i.getState())!==JSON.stringify(e[l])&&h(e[l]):h(e)}));case"IMPORT_STATE":{const{nextLiftedState:n}=e.payload,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return h(void 0===l?r:r[l]),void(null==c||c.send(null,n))}case"PAUSE_RECORDING":return f=!f}return}})),p}},x=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}void 0!==n&&t(n)};function _(e,t){let n;try{n=e()}catch(r){return}return{getItem:e=>{var r;const i=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),o=null!=(r=n.getItem(e))?r:null;return o instanceof Promise?o.then(i):i(o)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)}}const P=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>P(e)(n),catch(e){return this}}}catch(n){return{then(e){return this},catch:e=>P(e)(n)}}},z=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),((e,t)=>(n,r,i)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},a=!1;const l=new Set,s=new Set;let u;try{u=o.getStorage()}catch(g){}if(!u)return e((function(){console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...arguments)}),r,i);const c=P(o.serialize),d=()=>{const e=o.partialize({...r()});let t;const n=c({state:e,version:o.version}).then((e=>u.setItem(o.name,e))).catch((e=>{t=e}));if(t)throw t;return n},f=i.setState;i.setState=(e,t)=>{f(e,t),d()};const h=e((function(){n(...arguments),d()}),r,i);let p;const m=()=>{var e;if(!u)return;a=!1,l.forEach((e=>e(r())));const t=(null==(e=o.onRehydrateStorage)?void 0:e.call(o,r()))||void 0;return P(u.getItem.bind(u))(o.name).then((e=>{if(e)return o.deserialize(e)})).then((e=>{if(e){if("number"!==typeof e.version||e.version===o.version)return e.state;if(o.migrate)return o.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return p=o.merge(e,null!=(t=r())?t:h),n(p,!0),d()})).then((()=>{null==t||t(p,void 0),a=!0,s.forEach((e=>e(p)))})).catch((e=>{null==t||t(void 0,e)}))};return i.persist={setOptions:e=>{o={...o,...e},e.getStorage&&(u=e.getStorage())},clearStorage:()=>{null==u||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(s.add(e),()=>{s.delete(e)})},m(),p||h})(e,t)):((e,t)=>(n,r,i)=>{let o={storage:_((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},a=!1;const l=new Set,s=new Set;let u=o.storage;if(!u)return e((function(){console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...arguments)}),r,i);const c=()=>{const e=o.partialize({...r()});return u.setItem(o.name,{state:e,version:o.version})},d=i.setState;i.setState=(e,t)=>{d(e,t),c()};const f=e((function(){n(...arguments),c()}),r,i);let h;i.getInitialState=()=>f;const p=()=>{var e,t;if(!u)return;a=!1,l.forEach((e=>{var t;return e(null!=(t=r())?t:f)}));const i=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=r())?e:f))||void 0;return P(u.getItem.bind(u))(o.name).then((e=>{if(e){if("number"!==typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate)return[!0,o.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]})).then((e=>{var t;const[i,a]=e;if(h=o.merge(a,null!=(t=r())?t:f),n(h,!0),i)return c()})).then((()=>{null==i||i(h,void 0),h=r(),a=!0,s.forEach((e=>e(h)))})).catch((e=>{null==i||i(void 0,e)}))};return i.persist={setOptions:e=>{o={...o,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>a,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(s.add(e),()=>{s.delete(e)})},o.skipHydration||p(),h||f})(e,t),I=E(T(z((e=>({user:null,theme:"light",accentColor:"#7c3aed",voiceEnabled:!0,lastPrompt:"",sessionId:null,setUser:t=>e({user:t}),logout:()=>e({user:null}),setTheme:t=>e({theme:t}),setAccentColor:t=>e({accentColor:t}),toggleVoice:()=>e((e=>({voiceEnabled:!e.voiceEnabled}))),setPrompt:t=>e({lastPrompt:t}),setSessionId:t=>e({sessionId:t}),reset:()=>e({user:null,theme:"light",accentColor:"#7c3aed",voiceEnabled:!0,lastPrompt:"",sessionId:null})})),{name:"mashaaer-storage",partialize:e=>({user:e.user,theme:e.theme,accentColor:e.accentColor,voiceEnabled:e.voiceEnabled})}),{name:"AppStore"}));class D{constructor(){this.isInitialized=!1,this.loggingService=null,this.configService=null,this.errorService=null,this.stateImplementation="zustand",this.stores={appStore:I}}initialize(e,t,n){return this.isInitialized||(this.configService=e,this.loggingService=t,this.errorService=n,this.initializeStores(),this.isInitialized=!0,this.loggingService.info("State management service initialized using Zustand")),this}initializeStores(){const e=this.configService.get("theme",{});e.accentColor&&I.getState().setAccentColor(e.accentColor),this.loggingService.debug("Stores initialized with configuration")}getCurrentImplementation(){return this.stateImplementation}getStore(e){return this.stores[e]?this.stores[e]:(this.errorService.createAndHandleError(`Store "${e}" not found`,this.errorService.getErrorTypes().NOT_FOUND,{availableStores:Object.keys(this.stores)},"StateManagementService"),null)}getAppStore(){return this.stores.appStore}getRecommendations(){return{recommendedLibrary:"zustand",reasons:["Lightweight and simple API","No boilerplate code required","Works with React hooks","Can be used with or without React","Supports middleware for advanced use cases","Better performance than Redux for most use cases"],implementation:"\n// Example Zustand implementation (once installed):\n\n// 1. Install Zustand:\n// npm install zustand\n\n// 2. Create a store:\n// src/stores/useAppStore.js\nimport { create } from 'zustand';\n\nconst useAppStore = create((set) => ({\n  // State\n  count: 0,\n  user: null,\n  theme: 'light',\n\n  // Actions\n  increment: () => set((state) => ({ count: state.count + 1 })),\n  decrement: () => set((state) => ({ count: state.count - 1 })),\n  setUser: (user) => set({ user }),\n  setTheme: (theme) => set({ theme }),\n  reset: () => set({ count: 0 }),\n}));\n\nexport default useAppStore;\n\n// 3. Use in components:\n// import useAppStore from '../stores/useAppStore';\n// \n// function Counter() {\n//   const { count, increment, decrement } = useAppStore();\n//   return (\n//     <div>\n//       <p>Count: {count}</p>\n//       <button onClick={increment}>Increment</button>\n//       <button onClick={decrement}>Decrement</button>\n//     </div>\n//   );\n// }\n      "}}createContextState(e,t){return this.loggingService.info("Using context-based state management. Consider switching to Zustand for better performance and simpler API."),{initialState:e,reducer:t,createContext:()=>(this.loggingService.info("Creating context for state management"),"This would be a React context in a real implementation")}}getMigrationGuide(){return"\n# Migration Guide: React Context to Zustand\n\n## Step 1: Install Zustand\n```\nnpm install zustand\n```\n\n## Step 2: Convert Context Provider to Zustand Store\n\n### Before (with Context):\n```jsx\n// UserContext.js\nimport React, { createContext, useContext, useState } from 'react';\n\nconst UserContext = createContext();\n\nexport const UserProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n\n  const login = (userData) => {\n    setUser(userData);\n  };\n\n  const logout = () => {\n    setUser(null);\n  };\n\n  return (\n    <UserContext.Provider value={{ user, login, logout }}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport const useUser = () => useContext(UserContext);\n```\n\n### After (with Zustand):\n```jsx\n// useUserStore.js\nimport { create } from 'zustand';\n\nconst useUserStore = create((set) => ({\n  user: null,\n  login: (userData) => set({ user: userData }),\n  logout: () => set({ user: null })\n}));\n\nexport default useUserStore;\n```\n\n## Step 3: Update Component Usage\n\n### Before (with Context):\n```jsx\nimport { useUser } from './UserContext';\n\nfunction Profile() {\n  const { user, logout } = useUser();\n\n  return (\n    <div>\n      <h1>Welcome, {user.name}</h1>\n      <button onClick={logout}>Logout</button>\n    </div>\n  );\n}\n```\n\n### After (with Zustand):\n```jsx\nimport useUserStore from './useUserStore';\n\nfunction Profile() {\n  const user = useUserStore(state => state.user);\n  const logout = useUserStore(state => state.logout);\n\n  return (\n    <div>\n      <h1>Welcome, {user.name}</h1>\n      <button onClick={logout}>Logout</button>\n    </div>\n  );\n}\n```\n\n## Step 4: Remove Context Provider from App\n\n### Before:\n```jsx\nimport { UserProvider } from './UserContext';\n\nfunction App() {\n  return (\n    <UserProvider>\n      <Router>\n        {/* Your app components */}\n      </Router>\n    </UserProvider>\n  );\n}\n```\n\n### After:\n```jsx\nfunction App() {\n  return (\n    <Router>\n      {/* Your app components */}\n    </Router>\n  );\n}\n```\n    "}}async function L(e){const t=[{name:"primaryModel",callFunction:async()=>async function(e){return new Promise(((t,n)=>{setTimeout((()=>t(`Primary model response for prompt: ${e}`)),1e3)}))}(e)},{name:"secondaryModel",callFunction:async()=>async function(){return new Promise(((e,t)=>{setTimeout((()=>t(new Error("Secondary model is unavailable"))),1e3)}))}()},{name:"tertiaryModel",callFunction:async()=>async function(e){return new Promise((t=>{setTimeout((()=>t(`Tertiary model response for prompt: ${e}`)),1e3)}))}(e)}];for(const r of t)try{console.log(`\u26a1 Attempting to use model: ${r.name}`);const e=await r.callFunction();if(e)return console.log(`\u2705 Model ${r.name} responded successfully.`),e}catch(n){console.warn(`\u26a0\ufe0f Model ${r.name} failed:`,n.message)}throw new Error("\ud83d\udeab All models failed to respond.")}class O{constructor(){this.isInitialized=!1,this.configService=null,this.loggingService=null,this.errorService=null,this.currentUser=null,this.token=null,this.usageStats={requestsToday:0,sessionStartTime:null,storedConversations:0},this.storageKeys={token:"mashaaer-auth-token",user:"mashaaer-user",usageStats:"mashaaer-usage-stats"}}initialize(e,t,n){return this.isInitialized?(t&&t.warn("Auth Service is already initialized"),this):(this.configService=e,this.loggingService=t,this.errorService=n,this.loadUserFromStorage(),this.loadUsageStatsFromStorage(),this.setupDailyReset(),this.startSessionTimer(),this.isInitialized=!0,t&&t.logServiceInit("Auth Service"),this)}loadUserFromStorage(){try{const e=localStorage.getItem(this.storageKeys.token),t=localStorage.getItem(this.storageKeys.user);e&&t&&(this.token=e,this.currentUser=JSON.parse(t),this.isTokenExpired()&&this.logout())}catch(e){this.loggingService&&this.loggingService.error("Error loading user from storage",e)}}loadUsageStatsFromStorage(){try{const e=localStorage.getItem(this.storageKeys.usageStats);if(e){const t=JSON.parse(e),n=(new Date).toDateString();t.date===n?this.usageStats={...this.usageStats,...t}:(this.usageStats.requestsToday=0,this.saveUsageStatsToStorage())}}catch(e){this.loggingService&&this.loggingService.error("Error loading usage stats from storage",e)}}saveUsageStatsToStorage(){try{const e={...this.usageStats,date:(new Date).toDateString()};localStorage.setItem(this.storageKeys.usageStats,JSON.stringify(e))}catch(e){this.loggingService&&this.loggingService.error("Error saving usage stats to storage",e)}}setupDailyReset(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,0,0,0).getTime()-e.getTime();setTimeout((()=>{this.usageStats.requestsToday=0,this.saveUsageStatsToStorage(),this.setupDailyReset(),this.loggingService&&this.loggingService.info("Daily usage stats reset")}),t)}startSessionTimer(){this.usageStats.sessionStartTime=new Date}async register(e,t,n){try{const t={id:"user_"+Date.now(),username:e,email:n,subscriptionPlan:"free",createdAt:(new Date).toISOString()},r=this.generateToken(t);return this.currentUser=t,this.token=r,localStorage.setItem(this.storageKeys.user,JSON.stringify(t)),localStorage.setItem(this.storageKeys.token,r),this.usageStats={requestsToday:0,sessionStartTime:new Date,storedConversations:0},this.saveUsageStatsToStorage(),this.loggingService&&this.loggingService.info("User registered",{username:e}),t}catch(r){if(this.errorService)throw this.errorService.createAuthenticationError("Registration failed",{error:r});throw r}}async login(e,t){try{const t={id:"user_"+Date.now(),username:e,subscriptionPlan:"free",createdAt:(new Date).toISOString()},n=this.generateToken(t);return this.currentUser=t,this.token=n,localStorage.setItem(this.storageKeys.user,JSON.stringify(t)),localStorage.setItem(this.storageKeys.token,n),this.startSessionTimer(),this.loggingService&&this.loggingService.info("User logged in",{username:e}),t}catch(n){if(this.errorService)throw this.errorService.createAuthenticationError("Login failed",{error:n});throw n}}logout(){this.currentUser=null,this.token=null,localStorage.removeItem(this.storageKeys.token),localStorage.removeItem(this.storageKeys.user),this.loggingService&&this.loggingService.info("User logged out")}isLoggedIn(){return!!this.currentUser&&!!this.token&&!this.isTokenExpired()}getCurrentUser(){return this.currentUser}getCurrentSubscriptionPlan(){var e;return(null===(e=this.currentUser)||void 0===e?void 0:e.subscriptionPlan)||"free"}updateSubscriptionPlan(e){if(!this.currentUser)return void(this.loggingService&&this.loggingService.warn("Cannot update subscription plan: No user logged in"));this.currentUser.subscriptionPlan=e,localStorage.setItem(this.storageKeys.user,JSON.stringify(this.currentUser));const t=new CustomEvent("subscriptionChanged",{detail:{level:e}});document.dispatchEvent(t),this.loggingService&&this.loggingService.info("Subscription plan updated",{planId:e})}isTokenExpired(){if(!this.token)return!0;try{return this.parseToken(this.token).exp<Date.now()}catch(e){return!0}}generateToken(e){const t={sub:e.id,username:e.username,exp:Date.now()+864e5};return btoa(JSON.stringify(t))}parseToken(e){try{return JSON.parse(atob(e))}catch(t){throw new Error("Invalid token")}}trackApiRequest(){this.usageStats.requestsToday++,this.saveUsageStatsToStorage();const e=this.checkRequestLimit();var t;!e&&this.loggingService&&this.loggingService.warn("API request limit reached",{user:null===(t=this.currentUser)||void 0===t?void 0:t.username,plan:this.getCurrentSubscriptionPlan(),requestsToday:this.usageStats.requestsToday});return e}checkRequestLimit(){const e=this.getCurrentSubscriptionPlan(),t=this.getSubscriptionLimits(e);return-1===t.requestsPerDay||this.usageStats.requestsToday<=t.requestsPerDay}checkSessionTimeLimit(){const e=this.getCurrentSubscriptionPlan(),t=this.getSubscriptionLimits(e);if(-1===t.sessionDurationMinutes)return!0;if(!this.usageStats.sessionStartTime)return!0;return(new Date-this.usageStats.sessionStartTime)/6e4<=t.sessionDurationMinutes}getSubscriptionLimits(e){const t=this.configService.get("subscription.plans",[]);return(t.find((t=>t.id===e))||t[0]).limits||{requestsPerDay:50,sessionDurationMinutes:15,maxStoredConversations:5}}trackStoredConversation(){this.usageStats.storedConversations++,this.saveUsageStatsToStorage();const e=this.checkStorageLimit();var t;!e&&this.loggingService&&this.loggingService.warn("Conversation storage limit reached",{user:null===(t=this.currentUser)||void 0===t?void 0:t.username,plan:this.getCurrentSubscriptionPlan(),storedConversations:this.usageStats.storedConversations});return e}checkStorageLimit(){const e=this.getCurrentSubscriptionPlan(),t=this.getSubscriptionLimits(e);return this.usageStats.storedConversations<=t.maxStoredConversations}getRemainingRequests(){const e=this.getCurrentSubscriptionPlan(),t=this.getSubscriptionLimits(e);return-1===t.requestsPerDay?-1:Math.max(0,t.requestsPerDay-this.usageStats.requestsToday)}getRemainingSessionTime(){const e=this.getCurrentSubscriptionPlan(),t=this.getSubscriptionLimits(e);if(-1===t.sessionDurationMinutes)return-1;if(!this.usageStats.sessionStartTime)return t.sessionDurationMinutes;const n=(new Date-this.usageStats.sessionStartTime)/6e4;return Math.max(0,t.sessionDurationMinutes-n)}}const N=new O,R="http://localhost:5000";async function A(e,t){try{const n="false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AUTH_REQUIRED;if(n&&!N.isLoggedIn())throw console.warn("Authentication required but REACT_APP_AUTH_REQUIRED is not set to false"),new Error("Authentication required. Please log in to continue.");if(n&&!N.trackApiRequest())throw new Error("Usage limit reached. Please upgrade your plan or try again tomorrow.");const r=n?N.token:"development-mode-token",i={"Content-Type":"application/json"};n&&(i.Authorization=`Bearer ${r}`);const o=await fetch(`${R}/ask`,{method:"POST",headers:i,body:JSON.stringify({prompt:e,userProfile:t||{name:"Development User"},subscriptionPlan:n?N.getCurrentSubscriptionPlan():"premium",developmentMode:!n})});if(401===o.status)throw N.logout(),new Error("Authentication failed. Please log in again.");if(403===o.status)throw new Error("Access denied. Your subscription plan does not allow this operation.");if(!o.ok)throw new Error(`API request failed with status ${o.status}`);return await o.json()}catch(n){return console.error("Error sending prompt to Flask:",n),{success:!1,error:n.message,authRequired:n.message.includes("Authentication required"),limitReached:n.message.includes("Usage limit reached")}}}const M=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config={defaultModel:"gpt4",enabledModels:["gpt4","gemini","claude","mistral"],apiKeys:{openai:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.OPENAI_API_KEY||e.openaiApiKey,google:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.GOOGLE_API_KEY||e.googleApiKey,anthropic:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.ANTHROPIC_API_KEY||e.anthropicApiKey,mistral:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.MISTRAL_API_KEY||e.mistralApiKey},...e},this.modelStrengths={gpt4:{reasoning:.9,creativity:.8,knowledge:.85,arabicFluency:.75},gemini:{reasoning:.85,creativity:.8,knowledge:.9,arabicFluency:.7},claude:{reasoning:.85,creativity:.9,knowledge:.8,arabicFluency:.7},mistral:{reasoning:.8,creativity:.75,knowledge:.75,arabicFluency:.8}},this.lastUsedModel=null,this.modelUsageCount={gpt4:0,gemini:0,claude:0,mistral:0}}selectModel(e){const t=e.taskType||this.detectTaskType(e.prompt),n=this.config.enabledModels.filter((e=>this.config.apiKeys[this.getApiKeyName(e)]));if(0===n.length)return console.warn("No models are available. Using fallback mechanism."),this.config.defaultModel;if(t){const e={};n.forEach((n=>{let r=0;switch(t){case"reasoning":r=this.modelStrengths[n].reasoning;break;case"creativity":r=this.modelStrengths[n].creativity;break;case"knowledge":r=this.modelStrengths[n].knowledge;break;case"arabic":r=this.modelStrengths[n].arabicFluency;break;default:r=(this.modelStrengths[n].reasoning+this.modelStrengths[n].creativity+this.modelStrengths[n].knowledge+this.modelStrengths[n].arabicFluency)/4}r+=.1*Math.random(),e[n]=r}));const r=Object.keys(e).reduce(((t,n)=>e[t]>e[n]?t:n));return console.log(`Selected model ${r} for task type ${t}`),r}return n.reduce(((e,t)=>this.modelUsageCount[e]<this.modelUsageCount[t]?e:t))}detectTaskType(e){const t=e.toLowerCase();return t.includes("\u0644\u0645\u0627\u0630\u0627")||t.includes("\u0643\u064a\u0641")||t.includes("\u0627\u0634\u0631\u062d")||t.includes("\u062d\u0644\u0644")||t.includes("\u0641\u0633\u0631")?"reasoning":t.includes("\u0627\u0643\u062a\u0628 \u0642\u0635\u0629")||t.includes("\u0627\u0643\u062a\u0628 \u0634\u0639\u0631")||t.includes("\u062a\u062e\u064a\u0644")||t.includes("\u0627\u0628\u062a\u0643\u0631")||t.includes("\u0625\u0628\u062f\u0627\u0639")?"creativity":t.includes("\u0645\u0627 \u0647\u0648")||t.includes("\u0645\u0646 \u0647\u0648")||t.includes("\u0645\u062a\u0649")||t.includes("\u0623\u064a\u0646")||t.includes("\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0639\u0646")?"knowledge":null}getApiKeyName(e){switch(e){case"gpt4":default:return"openai";case"gemini":return"google";case"claude":return"anthropic";case"mistral":return"mistral"}}async callModel(e,t){switch(e){case"gpt4":return this.callGPT4(t);case"gemini":return this.callGemini(t);case"claude":return this.callClaude(t);case"mistral":return this.callMistral(t);default:throw new Error(`Unknown model: ${e}`)}}async callGPT4(e){return console.log(`Calling GPT-4 with prompt: ${e}`),new Promise((t=>{setTimeout((()=>{this.modelUsageCount.gpt4++,this.lastUsedModel="gpt4",t(`GPT-4 response to: ${e}`)}),1e3)}))}async callGemini(e){return console.log(`Calling Gemini with prompt: ${e}`),new Promise((t=>{setTimeout((()=>{this.modelUsageCount.gemini++,this.lastUsedModel="gemini",t(`Gemini response to: ${e}`)}),1e3)}))}async callClaude(e){return console.log(`Calling Claude with prompt: ${e}`),new Promise((t=>{setTimeout((()=>{this.modelUsageCount.claude++,this.lastUsedModel="claude",t(`Claude response to: ${e}`)}),1e3)}))}async callMistral(e){return console.log(`Calling Mistral with prompt: ${e}`),new Promise((t=>{setTimeout((()=>{this.modelUsageCount.mistral++,this.lastUsedModel="mistral",t(`Mistral response to: ${e}`)}),1e3)}))}async processRequest(e){try{const t=e.forceModel||this.selectModel(e);console.log(`Using model: ${t} for request`);return{success:!0,result:await this.callModel(t,e.prompt),metadata:{model:t,tone:e.preferredTone||"neutral",voiceProfile:e.preferredVoiceProfile||"default"}}}catch(t){console.error("Error in LLM Multiengine:",t);try{console.log("Falling back to traditional fallback mechanism");return{success:!0,result:await L(e.prompt),metadata:{model:"fallback",tone:e.preferredTone||"neutral",voiceProfile:e.preferredVoiceProfile||"default"}}}catch(n){return{success:!1,error:n.message||"An unknown error occurred in LLM Multiengine."}}}}};async function F(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{console.log("\ud83d\udd0d Handling multiengine request with prompt:",e);const n={prompt:e,preferredTone:t.preferredTone||"neutral",preferredVoiceProfile:t.preferredVoiceProfile||"default",taskType:t.taskType||null,forceModel:t.forceModel||null};return await M.processRequest(n)}catch(n){return console.error("\u274c Error in handleMultiengineRequest:",n),{success:!1,error:n.message||"An unknown error occurred in handleMultiengineRequest."}}}class U{constructor(){this.isInitialized=!1,this.configService=null,this.useFlaskBackend=!0,this.useMultiengine=!0}initialize(e){return this.isInitialized||(this.configService=e,this.useFlaskBackend=e.get("api.useFlaskBackend",!0),this.useMultiengine=e.get("api.useMultiengine",!0),this.isInitialized=!0,console.log("\u2705 API service initialized")),this}async sendPrompt(e,t){try{if(console.log("Sending prompt to backend:",e),this.useFlaskBackend)try{console.log("\ud83d\ude80 Sending request to Flask backend");const n=await A(e,t);if(n.success)return console.log("\u2705 Response generated using Flask backend"),{success:!0,result:n.result||n.response,metadata:n.metadata||{model:"flask-backend"}};console.warn("\u26a0\ufe0f Flask backend failed")}catch(r){console.error("Error using Flask backend:",r)}if(this.useMultiengine)try{console.log("\ud83d\ude80 Sending request to LLM Multiengine");const r=await F(e,t);var n;if(r.success)return console.log(`\u2705 Response generated using model: ${(null===(n=r.metadata)||void 0===n?void 0:n.model)||"default"}`),{success:!0,result:r.result,metadata:r.metadata||{model:"default"}};console.warn("\u26a0\ufe0f LLM Multiengine failed")}catch(i){console.error("Error using LLM Multiengine:",i)}console.log("\ud83d\ude80 Sending request to runtime handler");const o=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{console.log("\ud83d\udd0d Handling runtime request with prompt:",e);const n={prompt:e,preferredTone:t.preferredTone||"neutral",preferredVoiceProfile:t.preferredVoiceProfile||"default"};return{success:!0,result:await L(n.prompt),metadata:{tone:n.preferredTone,voiceProfile:n.preferredVoiceProfile}}}catch(n){return console.error("\u274c Error in handleRuntimeRequest:",n),{success:!1,error:n.message||"An unknown error occurred."}}}(e,t);return o.success?(console.log("\u2705 Response generated using runtime handler"),{success:!0,result:o.result,metadata:o.metadata||{model:"runtime"}}):(console.error("\u274c All backend methods failed"),{success:!1,error:"All backend methods failed",fallbackMessage:"\u062a\u0639\u0630\u0631 \u0645\u0639\u0627\u0644\u062c\u0629 \u0627\u0644\u0637\u0644\u0628 \u0627\u0644\u062e\u0627\u0635 \u0628\u0643\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649."})}catch(o){return console.error("Error in sendPrompt:",o),{success:!1,error:o.message,fallbackMessage:"\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0645\u0639\u0627\u0644\u062c\u0629 \u0627\u0644\u0637\u0644\u0628."}}}async sendRequest(e,t){try{return console.log(`Sending request to ${e}:`,t),{success:!0,result:{message:"Mock response for "+e}}}catch(n){return console.error(`Error in sendRequest to ${e}:`,n),{success:!1,error:n.message}}}}const j=(e,t)=>{const n=JSON.parse(localStorage.getItem("chatHistory"))||[];n.push({sender:e,message:t,time:(new Date).toISOString()}),localStorage.setItem("chatHistory",JSON.stringify(n))},$=()=>JSON.parse(localStorage.getItem("chatHistory"))||[],V=[],H={},W=[];function B(e){e&&(e.timestamp||(e.timestamp=Date.now()),V.push(e),V.length>100&&V.shift(),console.log(`Added episodic memory: ${JSON.stringify(e)}`))}function K(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return V.slice(-e)}function q(){return W}class Q{constructor(){this.isInitialized=!1,this.configService=null,this.memoryTimeline=[],this.emotions=[],this.maxEpisodicMemories=100,this.consolidationInterval=864e5,this.lastConsolidation=Date.now()}initialize(e){return this.isInitialized||(this.configService=e,this.maxEpisodicMemories=e.get("memory.maxEpisodicMemories",100),this.consolidationInterval=e.get("memory.consolidationInterval",864e5),this.loadChatHistory(),this.isInitialized=!0,console.log("\u2705 Memory service initialized")),this}loadChatHistory(){const e=$();this.memoryTimeline=e.map(((t,n)=>({id:"msg_"+(Date.now()-1e3*(e.length-n)),messageId:"msg_"+(Date.now()-1e3*(e.length-n)),message:t.text,emotion:t.emotion||"neutral",timestamp:t.timestamp||Date.now()-1e3*(e.length-n),type:t.role}))),console.log(`Loaded ${this.memoryTimeline.length} messages from chat history`)}storeUserMessage(e,t){const n={id:`msg_${Date.now()}`,messageId:`msg_${Date.now()}`,message:e,emotion:t.type||"neutral",emotionIntensity:t.confidence||0,timestamp:Date.now(),type:"user"};this.memoryTimeline.push(n),j("user",e),B({message:e,emotion:t}),this.storeEmotion({emotion:t.type||"neutral",intensity:t.confidence||0,timestamp:(new Date).toISOString()}),this.checkConsolidation()}storeAssistantResponse(e,t,n){const r={id:`resp_${Date.now()}`,messageId:`resp_${Date.now()}`,message:e,emotion:t||"neutral",timestamp:Date.now(),type:"assistant",model:n};this.memoryTimeline.push(r),j("assistant",e),this.checkConsolidation()}storeEmotion(e){this.emotions.push(e),this.emotions.length>this.maxEpisodicMemories&&this.emotions.shift()}checkConsolidation(){const e=Date.now();e-this.lastConsolidation>this.consolidationInterval&&(this.consolidateMemories(),this.lastConsolidation=e)}consolidateMemories(){console.log("Consolidating memories..."),this.memoryTimeline.length>this.maxEpisodicMemories&&(this.memoryTimeline=this.memoryTimeline.slice(-this.maxEpisodicMemories))}getMemoryTimeline(){return[...this.memoryTimeline]}getEmotions(){return[...this.emotions]}getContextSummary(){const e=this.emotions.length>0?this.emotions[this.emotions.length-1].emotion:"neutral",t={};this.emotions.forEach((e=>{t[e.emotion]=(t[e.emotion]||0)+1}));let n="neutral",r=0;return Object.entries(t).forEach((e=>{let[t,i]=e;i>r&&(r=i,n=t)})),{lastEmotion:e,dominantEmotion:n,totalEntries:this.emotions.length}}getEmotionalMoodSummary(){const e=this.getContextSummary();if(0===this.emotions.length)return"\u0644\u0627 \u0645\u0632\u0627\u062c \u0648\u0627\u0636\u062d \u0628\u0639\u062f";return{happy:"\u0645\u0632\u0627\u062c \u0625\u064a\u062c\u0627\u0628\u064a",sad:"\u0645\u0632\u0627\u062c \u062d\u0632\u064a\u0646",angry:"\u0645\u0632\u0627\u062c \u063a\u0627\u0636\u0628",confident:"\u0645\u0632\u0627\u062c \u0648\u0627\u062b\u0642",neutral:"\u0645\u0632\u0627\u062c \u0645\u062d\u0627\u064a\u062f"}[e.dominantEmotion]||"\u0645\u0632\u0627\u062c \u0645\u062a\u0646\u0648\u0639"}getEmotionalTrend(){if(this.emotions.length<2)return[];const e={};this.emotions.forEach((t=>{e[t.emotion]||(e[t.emotion]=[]),e[t.emotion].push(t)}));const t=Object.entries(e).map((e=>{let[t,n]=e;if(n.length<2)return{emotion:t,trend:"stable"};const r=n[0].intensity,i=n[n.length-1].intensity;return i>1.2*r?{emotion:t,trend:"increasing"}:i<.8*r?{emotion:t,trend:"decreasing"}:{emotion:t,trend:"stable"}}));return t}findNodeById(e){return this.memoryTimeline.find((t=>t.id===e||t.messageId===e))||null}clearMemories(){this.memoryTimeline=[],this.emotions=[],localStorage.removeItem("chatHistory"),console.log("All memories cleared")}}class G{constructor(){this.isInitialized=!1,this.configService=null,this.memoryService=null,this.emotionCategories={},this.emotionThreshold=.65,this.subscriptionLevel="free",this.culturalContext="standard",this.listeners=[]}initialize(e,t){var n;return this.isInitialized||(this.configService=e,this.memoryService=t,this.subscriptionLevel=e.get("subscription.plans",[]).length>0&&(null===(n=e.get("subscription.plans",[])[1])||void 0===n?void 0:n.id)||"premium",this.culturalContext=e.get("emotion.culturalContext","standard"),this.emotionThreshold=e.get("emotion.threshold",.65),this.setupEmotionCategories(),this.isInitialized=!0,console.log("\u2705 Emotion service initialized")),this}setupEmotionCategories(){this.emotionCategories={happy:{keywords:{standard:["happy","excited","joy","amazing"],arabic:["\u0633\u0639\u064a\u062f","\u0645\u0628\u0633\u0648\u0637","\u0641\u0631\u062d\u0627\u0646","\u0645\u0646\u0634\u0631\u062d"],levantine:["\u0645\u0628\u0633\u0648\u0637","\u0641\u0631\u062d\u0627\u0646"],gulf:["\u0645\u0633\u062a\u0627\u0646\u0633","\u0641\u0631\u062d\u0627\u0646"],maghrebi:["\u0632\u064a\u0646","\u0645\u0632\u064a\u0627\u0646"]},responses:{standard:["I'm glad you're happy!","Keep smiling!"],arabic:["\u064a\u0633\u0639\u062f\u0646\u064a \u0623\u0646\u0643 \u0633\u0639\u064a\u062f!","\u0627\u0628\u062a\u0633\u0645 \u062f\u0627\u0626\u0645\u064b\u0627!"]},color:"#50fa7b",emoji:"\ud83d\ude0a",intensity:0},sad:{keywords:{standard:["sad","upset","unhappy"],arabic:["\u062d\u0632\u064a\u0646","\u0645\u0643\u062a\u0626\u0628","\u0632\u0639\u0644\u0627\u0646"],levantine:["\u0632\u0639\u0644\u0627\u0646","\u0645\u062a\u0636\u0627\u064a\u0642"],gulf:["\u0632\u0639\u0644\u0627\u0646","\u0645\u0643\u062a\u0626\u0628"],maghrebi:["\u062d\u0632\u064a\u0646","\u0645\u062a\u0636\u0627\u064a\u0642"]},responses:{standard:["I'm here for you.","It's okay to feel sad."],arabic:["\u0623\u0646\u0627 \u0647\u0646\u0627 \u0644\u0644\u0645\u0633\u0627\u0639\u062f\u0629.","\u0644\u0627 \u0628\u0623\u0633 \u0623\u0646 \u062a\u0634\u0639\u0631 \u0628\u0627\u0644\u062d\u0632\u0646."]},color:"#6272a4",emoji:"\ud83d\ude22",intensity:0},confident:{keywords:{standard:["confident","sure","positive","convinced"],arabic:["\u0648\u0627\u062b\u0642","\u0645\u062a\u0623\u0643\u062f","\u0645\u0637\u0645\u0626\u0646"],levantine:["\u0648\u0627\u062b\u0642","\u0623\u0643\u064a\u062f"],gulf:["\u0648\u0627\u062b\u0642","\u0645\u062a\u0623\u0643\u062f"],maghrebi:["\u0648\u0627\u062b\u0642","\u0645\u0642\u062a\u0646\u0639"]},responses:{standard:["I love your confidence!","Being confident is great!"],arabic:["\u0623\u062d\u0628 \u062b\u0642\u062a\u0643 \u0628\u0646\u0641\u0633\u0643!","\u0625\u0646\u0647 \u0631\u0627\u0626\u0639 \u0623\u0646 \u062a\u0643\u0648\u0646 \u0648\u0627\u062b\u0642\u064b\u0627!"]},color:"#00ced1",emoji:"\ud83d\udcaa",intensity:0},neutral:{keywords:{standard:["neutral","normal","okay"],arabic:["\u0639\u0627\u062f\u064a","\u0637\u0628\u064a\u0639\u064a","\u0645\u062d\u0627\u064a\u062f"],levantine:["\u0639\u0627\u062f\u064a","\u0637\u0628\u064a\u0639\u064a"],gulf:["\u0639\u0627\u062f\u064a","\u0637\u0628\u064a\u0639\u064a"],maghrebi:["\u0639\u0627\u062f\u064a","\u0637\u0628\u064a\u0639\u064a"]},responses:{standard:["I understand.","I see."],arabic:["\u0623\u0641\u0647\u0645.","\u0623\u0631\u0649."]},color:"#9370db",emoji:"\ud83d\ude10",intensity:0}}}detectEmotionFromText(e){if(!e)return{type:"neutral",confidence:0};console.log(`Detecting emotion from text: ${e}`);for(const[n,r]of Object.entries(this.emotionCategories)){if((r.keywords[this.culturalContext]||r.keywords.arabic||[]).find((t=>e.toLowerCase().includes(t.toLowerCase())))){const e=.5*Math.random()+.5;return this.notifyEmotionUpdate(n,e),{type:n,confidence:e}}}const t={type:"neutral",confidence:.5};return this.notifyEmotionUpdate(t.type,t.confidence),t}addEmotionListener(e){this.listeners.push(e)}removeEmotionListener(e){this.listeners=this.listeners.filter((t=>t!==e))}notifyEmotionUpdate(e,t){const n={emotion:e,intensity:t,timestamp:(new Date).toISOString()};this.listeners.forEach((e=>{try{e(n)}catch(t){console.error("Error in emotion listener:",t)}})),this.memoryService&&this.memoryService.storeEmotion(n)}getEmotionColor(e){var t;return(null===(t=this.emotionCategories[e])||void 0===t?void 0:t.color)||"#9370db"}getEmotionEmoji(e){var t;return(null===(t=this.emotionCategories[e])||void 0===t?void 0:t.emoji)||"\ud83d\ude10"}canAccessFeature(e){var t;return(null===(t={basicEmotionDetection:["free","basic","premium"],advancedEmotionDetection:["basic","premium"],facialEmotionDetection:["premium"],emotionTimeline:["basic","premium"]}[e])||void 0===t?void 0:t.includes(this.subscriptionLevel))||!1}}const J=new class{constructor(){this.isInitialized=!1,this.settings={accentColor:"neutral",animationSpeed:"normal",starDensity:"medium",starShape:"circle"}}initialize(){this.isInitialized||(console.log("CosmicTheme has been initialized."),this.isInitialized=!0)}applyTheme(){console.log("Applying theme with settings:",this.settings),document.body.style.setProperty("--star-shape",this.getStarShape()),document.body.style.setProperty("--bg-primary",this.getBackgroundColor()),document.body.style.setProperty("--bg-secondary",this.getSecondaryBackgroundColor()),document.body.style.setProperty("--animation-speed",this.getAnimationSpeed()),document.body.style.setProperty("--star-density",this.getStarDensity())}getBackgroundColor(){return{cheerful:"#ffecd2",warm:"#ffe4b5",calm:"#e6f7ff",curious:"#f5e6ff",neutral:"#f8f9fa",reassuring:"#e8ffe8",friendly:"#fffacd"}[this.settings.accentColor]||"#ffffff"}getSecondaryBackgroundColor(){return{cheerful:"#ffe8b0",warm:"#ffd37b",calm:"#d9f0f8",curious:"#e2d3f5",neutral:"#e6e6e6",reassuring:"#d4f7d4",friendly:"#fff799"}[this.settings.accentColor]||"#e0e0e0"}getStarShape(){return{khaliji:"triangle",shami:"star",masri:"diamond",fusha:"circle"}[this.settings.accentColor]||"circle"}getAnimationSpeed(){if(this.settings.animationSpeed)return this.settings.animationSpeed;return{cheerful:"fast",warm:"normal",calm:"slow",curious:"normal",neutral:"normal",reassuring:"slow",friendly:"fast"}[this.settings.accentColor]||"normal"}getStarDensity(){return{cheerful:"high",warm:"medium",calm:"low",curious:"medium",neutral:"medium",reassuring:"low",friendly:"high"}[this.settings.accentColor]||"medium"}};function X(){"undefined"!==typeof window&&window.mashaaer&&window.mashaaer.events?(window.mashaaer.events.on("NODE_NOT_FOUND",(function(e){const{id:t,message:n,emotion:r,intensity:i,failureCount:o,hasSimilarMemory:a}=e.detail||e;if("undefined"!==typeof window.CosmicNebulaEffect){const e=q().length;if(a)window.CosmicNebulaEffect.updateEmotion(r,.4,"false-memory");else if(o>3)window.CosmicNebulaEffect.updateEmotion(r,i||.7,"glitch");else{const t=Math.min(.2+.05*e,.8);window.CosmicNebulaEffect.updateEmotion(r||"\u062d\u064a\u0627\u062f",t,"fade")}e>3&&function(e){let t=document.getElementById("lost-nodes-trail");if(!t){t=document.createElement("div"),t.id="lost-nodes-trail",t.className="lost-nodes-trail",document.body.appendChild(t);const e=document.createElement("style");e.textContent="\n      .lost-nodes-trail {\n        position: fixed;\n        bottom: 20%;\n        right: 10%;\n        width: 200px;\n        height: 100px;\n        background: radial-gradient(ellipse at center, rgba(169, 169, 169, 0.7) 0%, rgba(169, 169, 169, 0) 70%);\n        pointer-events: none;\n        z-index: 100;\n        opacity: 0;\n        transition: opacity 1s ease;\n      }\n\n      .lost-nodes-trail.visible {\n        opacity: 1;\n      }\n\n      .lost-nodes-trail:before {\n        content: attr(data-count);\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        color: white;\n        font-size: 16px;\n        text-shadow: 0 0 5px rgba(0,0,0,0.5);\n      }\n    ",document.head.appendChild(e)}t.setAttribute("data-count",`\u0630\u0643\u0631\u064a\u0627\u062a \u0645\u0641\u0642\u0648\u062f\u0629: ${e}`),t.classList.add("visible"),setTimeout((()=>{t.classList.remove("visible")}),5e3)}(e)}"function"===typeof window.showTemporaryOverlay&&window.showTemporaryOverlay(n,r||"neutral"),q().length>5&&!document.getElementById("recover-memory-button")&&function(){const e=document.createElement("button");e.id="recover-memory-button",e.className="cosmic-button recover-memory-button",e.textContent="\u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0630\u0627\u0643\u0631\u0629 \u0636\u0627\u0626\u0639\u0629 \ud83c\udf0c";const t=document.createElement("style");t.textContent="\n    .recover-memory-button {\n      position: fixed;\n      bottom: 20px;\n      right: 80px;\n      background-color: rgba(147, 112, 219, 0.8);\n      color: white;\n      border: none;\n      border-radius: 20px;\n      padding: 8px 16px;\n      font-size: 14px;\n      cursor: pointer;\n      z-index: 1000;\n      box-shadow: 0 2px 10px rgba(0,0,0,0.2);\n      transition: all 0.3s ease;\n    }\n\n    .recover-memory-button:hover {\n      background-color: rgba(147, 112, 219, 1);\n      transform: scale(1.05);\n    }\n  ",document.head.appendChild(t),e.addEventListener("click",(()=>{window.mashaaer&&window.mashaaer.voice&&window.mashaaer.voice.speak("\u0623\u062d\u0627\u0648\u0644 \u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0627\u0644\u0630\u0643\u0631\u064a\u0627\u062a \u0627\u0644\u0645\u0641\u0642\u0648\u062f\u0629... \u0633\u0627\u0639\u062f\u0646\u064a \u0628\u0627\u0644\u062a\u0631\u0643\u064a\u0632 \u0645\u0639\u064a."),"undefined"!==typeof window.CosmicNebulaEffect&&window.CosmicNebulaEffect.updateEmotion("\u0627\u0633\u062a\u0631\u062c\u0627\u0639",1,"recovery"),setTimeout((()=>{e.remove()}),3e3)})),document.body.appendChild(e)}(),console.warn("\u26a0\ufe0f \u062a\u0645 \u062a\u0634\u063a\u064a\u0644 \u0627\u0633\u062a\u062c\u0627\u0628\u0629 \u0628\u0635\u0631\u064a\u0629 \u0644\u0639\u062f\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 node:",t)})),window.mashaaer.events.on("ACTIVATE_FOCUS_MODE",(function(e){const{level:t}=e.detail||e;"undefined"!==typeof window.CosmicNebulaEffect&&window.CosmicNebulaEffect.updateEmotion("\u062a\u0631\u0643\u064a\u0632",.8,"focus"),console.log(`\ud83e\udde0 \u062a\u0645 \u062a\u0641\u0639\u064a\u0644 \u0648\u0636\u0639 \u0627\u0644\u062a\u0631\u0643\u064a\u0632: ${t}`)})),console.log("\u2705 Cosmic voice integration initialized")):console.warn("Cannot initialize cosmic voice integration: mashaaer.events not available")}function Y(){"undefined"!==typeof window&&"undefined"===typeof window.CosmicNebulaEffect&&(window.CosmicNebulaEffect={updateEmotion:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";console.log(`CosmicNebulaEffect: Updating emotion to ${e} with intensity ${t}, effect: ${n}`);const r=document.querySelector(".cosmic-nebula");if(r){switch(r.classList.remove("effect-false-memory","effect-glitch","effect-fade","effect-focus","effect-recovery"),r.style.setProperty("--emotion-color",function(e){const t={"\u0633\u0639\u0627\u062f\u0629":"#FFD700","\u062d\u0632\u0646":"#4682B4","\u063a\u0636\u0628":"#FF4500","\u062e\u0648\u0641":"#800080","\u0645\u0641\u0627\u062c\u0623\u0629":"#00FFFF","\u062d\u064a\u0627\u062f":"#A9A9A9","\u062a\u0631\u0643\u064a\u0632":"#9370DB","\u0627\u0633\u062a\u0631\u062c\u0627\u0639":"#7FFFD4",confused:"#D8BFD8","\u0642\u0644\u0642":"#6A5ACD","\u0627\u0631\u062a\u0628\u0627\u0643":"#DDA0DD","\u0627\u0639\u062a\u0630\u0627\u0631":"#B0C4DE","\u0634\u0643":"#778899"};return t[e]||t["\u062d\u064a\u0627\u062f"]}(e)),r.style.setProperty("--emotion-intensity",t),n){case"false-memory":r.classList.add("effect-false-memory"),this.addDistortionEffect(r,.3);break;case"glitch":r.classList.add("effect-glitch"),this.addGlitchEffect(r);break;case"fade":r.classList.add("effect-fade"),r.style.opacity=Math.max(.3,1-t);break;case"focus":r.classList.add("effect-focus"),this.addFocusEffect(r);break;case"recovery":r.classList.add("effect-recovery"),this.addRecoveryEffect(r)}r.classList.remove("emotion-transition"),setTimeout((()=>r.classList.add("emotion-transition")),10),this.ensureEffectStyles()}},addDistortionEffect:function(e,t){e.style.filter=`blur(${t}px) hue-rotate(15deg)`,setTimeout((()=>{e.style.filter=""}),3e3)},addGlitchEffect:function(e){e.animate([{transform:"translateX(0)"},{transform:"translateX(2px)",filter:"hue-rotate(90deg)"},{transform:"translateX(-2px)",filter:"hue-rotate(-90deg)"},{transform:"translateX(0)"}],{duration:500,iterations:3}).onfinish=()=>{e.style.transform="",e.style.filter=""}},addFocusEffect:function(e){e.style.filter="contrast(1.2) saturate(1.2)",e.style.transform="scale(1.05)",setTimeout((()=>{e.style.filter="",e.style.transform=""}),5e3)},addRecoveryEffect:function(e){e.animate([{opacity:.7,transform:"scale(0.95)"},{opacity:1,transform:"scale(1.05)"},{opacity:.7,transform:"scale(0.95)"}],{duration:2e3,iterations:3}).onfinish=()=>{e.style.opacity="",e.style.transform=""}},ensureEffectStyles:function(){if(document.getElementById("cosmic-effect-styles"))return;const e=document.createElement("style");e.id="cosmic-effect-styles",e.textContent="\n          .cosmic-nebula {\n            transition: all 0.5s ease;\n          }\n\n          .cosmic-nebula.effect-false-memory {\n            animation: false-memory-pulse 4s infinite alternate;\n          }\n\n          .cosmic-nebula.effect-glitch {\n            animation: glitch-effect 0.3s steps(1) 3;\n          }\n\n          .cosmic-nebula.effect-fade {\n            transition: opacity 1s ease;\n          }\n\n          .cosmic-nebula.effect-focus {\n            animation: focus-pulse 2s ease;\n          }\n\n          .cosmic-nebula.effect-recovery {\n            animation: recovery-pulse 1s ease infinite;\n          }\n\n          @keyframes false-memory-pulse {\n            0% { filter: blur(0px); }\n            50% { filter: blur(1px); }\n            100% { filter: blur(0px); }\n          }\n\n          @keyframes glitch-effect {\n            0% { transform: translateX(0); }\n            25% { transform: translateX(2px); filter: hue-rotate(90deg); }\n            50% { transform: translateX(-2px); filter: hue-rotate(-90deg); }\n            75% { transform: translateX(1px); filter: invert(10%); }\n            100% { transform: translateX(0); }\n          }\n\n          @keyframes focus-pulse {\n            0% { filter: contrast(1) saturate(1); }\n            50% { filter: contrast(1.3) saturate(1.3); }\n            100% { filter: contrast(1) saturate(1); }\n          }\n\n          @keyframes recovery-pulse {\n            0% { transform: scale(1); }\n            50% { transform: scale(1.05); }\n            100% { transform: scale(1); }\n          }\n        ",document.head.appendChild(e)}})}"undefined"!==typeof window&&window.addEventListener("DOMContentLoaded",(()=>{Y(),X()}));class Z{constructor(){this.isInitialized=!1,this.configService=null,this.emotionService=null,this.themeSettings={accentColor:"#9370db",darkMode:!1,fontScale:1,animationsEnabled:!0},this.cosmicTheme=null}initialize(e,t){return this.isInitialized||(this.configService=e,this.emotionService=t,this.themeSettings={accentColor:e.get("theme.accentColor","#9370db"),darkMode:e.get("theme.darkMode",!1),fontScale:e.get("theme.fontScale",1),animationsEnabled:e.get("theme.animationsEnabled",!0)},this.initializeTheme(),this.isInitialized=!0,console.log("\u2705 Theme service initialized")),this}initializeTheme(){try{document.body.classList.add("cosmic-theme"),J.initialize(),J.applyTheme(),console.log("Cosmic theme initialized!"),window.cosmicTheme=J,this.cosmicTheme=J,this.cosmicTheme?(this.cosmicTheme.settings.accentColor=this.themeSettings.accentColor,this.cosmicTheme.settings.darkMode=this.themeSettings.darkMode,this.cosmicTheme.settings.fontScale=this.themeSettings.fontScale,this.cosmicTheme.settings.animationsEnabled=this.themeSettings.animationsEnabled,this.cosmicTheme.applyTheme(),Y(),X(),console.log("Cosmic theme initialized and applied")):console.warn("Cosmic theme not available")}catch(e){console.error("Error initializing theme:",e)}}applyDynamicStyling(e,t){if(!e)return"";try{const n={happy:{color:"#50fa7b",fontWeight:"bold"},sad:{color:"#6272a4",fontStyle:"italic"},angry:{color:"#ff5555",textTransform:"uppercase"},confident:{color:"#00ced1",textDecoration:"underline"},neutral:{color:"#f8f8f2"}};return`<span style="color: ${(n[t]||n.neutral).color};">${e}</span>`}catch(n){return console.error("Error applying dynamic styling:",n),e}}applyToElement(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"neutral";if(e)try{var r;const t=(null===(r=this.emotionService)||void 0===r?void 0:r.getEmotionColor(n))||"#9370db";switch(e.style.borderLeft=`4px solid ${t}`,e.style.paddingLeft="10px",n){case"happy":e.style.backgroundColor="rgba(80, 250, 123, 0.1)";break;case"sad":e.style.backgroundColor="rgba(98, 114, 164, 0.1)";break;case"angry":e.style.backgroundColor="rgba(255, 85, 85, 0.1)";break;case"confident":e.style.backgroundColor="rgba(0, 206, 209, 0.1)";break;default:e.style.backgroundColor="rgba(147, 112, 219, 0.1)"}}catch(i){console.error("Error applying styles to element:",i)}}filterSensitiveTopics(e){if(!e)return"";let t=e;return["politics","religion","adult content"].forEach((e=>{const n=new RegExp(e,"gi");t=t.replace(n,"[filtered]")})),t}setThemeSetting(e,t){Object.prototype.hasOwnProperty.call(this.themeSettings,e)?(this.themeSettings[e]=t,this.configService&&this.configService.set(`theme.${e}`,t),this.cosmicTheme&&(this.cosmicTheme.settings[e]=t,this.cosmicTheme.applyTheme())):console.warn(`Unknown theme setting: ${e}`)}getThemeSetting(e){return this.themeSettings[e]}getAllThemeSettings(){return{...this.themeSettings}}toggleDarkMode(){const e=!this.themeSettings.darkMode;return this.setThemeSetting("darkMode",e),e}}const ee={happy:{pitch:1.2,rate:1.1,volume:1,stability:.4,similarity_boost:.7,style:.7},sad:{pitch:.8,rate:.85,volume:.8,stability:.7,similarity_boost:.8,style:.3},angry:{pitch:1.1,rate:1.2,volume:1,stability:.3,similarity_boost:.6,style:.8},anxious:{pitch:1.1,rate:1.15,volume:.9,stability:.5,similarity_boost:.7,style:.5},neutral:{pitch:1,rate:1,volume:1,stability:.5,similarity_boost:.8,style:.5},confident:{pitch:1.1,rate:1.05,volume:1,stability:.6,similarity_boost:.8,style:.7},calm:{pitch:.9,rate:.9,volume:.9,stability:.7,similarity_boost:.8,style:.4}},te=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"neutral";const n=new SpeechSynthesisUtterance(e);n.lang="ar-SA";const r=ee[t]||ee.neutral;n.pitch=r.pitch,n.rate=r.rate,n.volume=r.volume;const i=speechSynthesis.getVoices().find((e=>e.lang.includes("ar")));return i&&(n.voice=i),speechSynthesis.speak(n),n};function ne(e){var t;const{text:n,emotion:r}=e;if(!n)return;const i=(null===r||void 0===r?void 0:r.type)||"neutral";"undefined"!==typeof window&&null!==(t=window.mashaaer)&&void 0!==t&&t.voice?window.mashaaer.voice.speak(n,i):console.log(`Would speak: "${n}" with emotion: ${i}`)}"undefined"===typeof window||window.mashaaer||(window.mashaaer={voice:{settings:{useFlaskTTS:!0,emotionMode:"neutral",pitch:1},speak:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"neutral";if(console.log(`Speaking: "${e}" with emotion: ${t}`),window.mashaaer.voice.settings.useFlaskTTS)try{const n=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"neutral";try{const n="true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SKIP_AUTH_FOR_VOICE;if(!n&&!N.isLoggedIn())throw console.warn("Authentication required for TTS but REACT_APP_SKIP_AUTH_FOR_VOICE is not enabled"),new Error("Authentication required. Please log in to continue.");if(!n&&!N.trackApiRequest())throw new Error("Usage limit reached. Please upgrade your plan or try again tomorrow.");const r=n?"development-mode-token":N.token,i={"Content-Type":"application/json"};n||(i.Authorization=`Bearer ${r}`);const o=await fetch(`${R}/api/tts`,{method:"POST",headers:i,body:JSON.stringify({text:e,emotion:t,subscriptionPlan:n?"premium":N.getCurrentSubscriptionPlan(),developmentMode:n})});if(401===o.status)throw N.logout(),new Error("Authentication failed. Please log in again.");if(403===o.status)throw new Error("Access denied. Your subscription plan does not allow this operation.");if(!o.ok)throw new Error(`TTS request failed with status ${o.status}`);return await o.blob()}catch(n){throw console.error("Error requesting TTS from Flask:",n),(n.message.includes("Authentication required")||n.message.includes("Authentication failed")||n.message.includes("Usage limit reached")||n.message.includes("Access denied"))&&(n.authError=!0,n.limitError=n.message.includes("Usage limit")||n.message.includes("Access denied")),n}}(e,t);return void await function(e){return new Promise(((t,n)=>{const r=URL.createObjectURL(e),i=new Audio(r);i.onended=()=>{URL.revokeObjectURL(r),t()},i.onerror=e=>{URL.revokeObjectURL(r),n(e)},i.play().catch(n)}))}(n)}catch(n){console.warn("Flask TTS failed, falling back to Web Speech API:",n)}if(window.speechSynthesis){const n=new SpeechSynthesisUtterance(e);switch(n.lang="ar-SA",t){case"happy":n.pitch=1.2,n.rate=1.1;break;case"sad":n.pitch=.8,n.rate=.9;break;case"angry":n.pitch=1,n.rate=1.2;break;case"anxious":n.pitch=1.1,n.rate=1.3;break;default:n.pitch=1,n.rate=1}return window.speechSynthesis.speak(n),new Promise((e=>{n.onend=()=>e()}))}return Promise.resolve()},toggleTTSMode:()=>(window.mashaaer.voice.settings.useFlaskTTS=!window.mashaaer.voice.settings.useFlaskTTS,console.log("TTS Mode set to: "+(window.mashaaer.voice.settings.useFlaskTTS?"Flask TTS":"Web Speech API")),window.mashaaer.voice.settings.useFlaskTTS),setEmotionMode:e=>{window.mashaaer.voice.settings.emotionMode=e,console.log(`Setting emotion mode to: ${e}`)},setPitch:e=>{window.mashaaer.voice.settings.pitch=e,console.log(`Setting pitch to: ${e}`)}}});class re{constructor(){this.isInitialized=!1,this.configService=null,this.emotionService=null,this.useElevenLabs=!1,this.elevenlabsApiKey="",this.speechSynthesis="undefined"!==typeof window?window.speechSynthesis:null,this.voiceEnabled=!0}initialize(e,t){return this.isInitialized||(this.configService=e,this.emotionService=t,this.voiceEnabled=e.get("voice.enabled",!0),this.useElevenLabs=e.get("voice.useElevenLabs",!1),this.elevenlabsApiKey=e.get("voice.elevenlabsApiKey",""),this.isInitialized=!0,console.log("\u2705 Voice service initialized")),this}speakReply(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"neutral",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.voiceEnabled){if(this.useElevenLabs&&this.elevenlabsApiKey)try{return console.log("Using ElevenLabs for TTS"),void async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"neutral";const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)||"21m00Tcm4TlvDq8ikWAM",r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_ELEVENLABS_API_KEY;if(!r)return console.warn("ElevenLabs API key not found, falling back to browser TTS"),void te(e,t);const i=ee[t]||ee.neutral;try{const t=await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${n}`,{method:"POST",headers:{"xi-api-key":r,"Content-Type":"application/json"},body:JSON.stringify({text:e,voice_settings:{stability:i.stability,similarity_boost:i.similarity_boost,style:i.style,use_speaker_boost:!0}})});if(!t.ok)throw new Error(`ElevenLabs API error: ${t.status}`);const o=await t.blob(),a=new Audio(URL.createObjectURL(o));return a.volume=i.volume,a.play(),a}catch(o){console.error("Error using ElevenLabs TTS:",o),te(e,t)}}(e,t,n)}catch(r){console.error("Error using ElevenLabs TTS:",r)}this.speakWithBrowserTTS(e,t,n)}else console.log("Voice is disabled. Would speak:",e)}speakWithBrowserTTS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"neutral",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this.speechSynthesis)return void console.warn("Speech synthesis is not available.");if("undefined"===typeof window)return void console.log(`Would speak: "${e}" with emotion: ${t}`);const r=new SpeechSynthesisUtterance(e),i={happy:{pitch:1.2,rate:1.1},sad:{pitch:.8,rate:.9},angry:{pitch:1.5,rate:1.3},confident:{pitch:1.1,rate:1},neutral:{pitch:1,rate:1}},o=i[t]||i.neutral;if(r.pitch=o.pitch,r.rate=o.rate,r.lang="ar-SA",n&&this.speechSynthesis.getVoices().length>0){const e=this.speechSynthesis.getVoices().find((e=>e.name.includes(n)));e&&(r.voice=e)}try{this.speechSynthesis.speaking&&this.speechSynthesis.cancel(),this.speechSynthesis.speak(r)}catch(a){console.error("Error during speech synthesis:",a)}}playVoiceResponse(e){if(this.voiceEnabled)try{ne(e)}catch(t){console.error("Error playing voice response:",t),this.speakReply(e.text,e.emotion,e.voiceProfile)}else console.log("Voice is disabled. Would play voice response:",e)}setVoiceEnabled(e){this.voiceEnabled=e,this.configService&&this.configService.set("voice.enabled",e)}getAvailableVoices(){return this.speechSynthesis?this.speechSynthesis.getVoices():[]}}class ie{constructor(){this.isInitialized=!1,this.configService=null,this.apiService=null,this.emotionService=null,this.memoryService=null,this.voiceService=null,this.themeService=null,this.userProfile={language:"ar-SA",preferredDialect:"khaliji",preferredTone:"cheerful",preferredVoiceProfile:"GULF_FEMALE_ARIA"},this.messageCount=0,this.failureCount=0,this.systemState={lastReflection:null,moodTrend:"neutral",confidenceLevel:.8,systemLoad:.2}}getSystemAdjustment(){let e="neutral",t=.5;if(this.memoryService){const n=this.memoryService.getContextSummary();e=n.dominantEmotion||"neutral",t=n.averageIntensity||.5}const n=1+.3*(t-.5);return{tone:{happy:"cheerful",sad:"warm",angry:"calm",surprised:"curious",neutral:"neutral",anxious:"reassuring",confident:"friendly"}[e]||"neutral",pitch:Math.max(.7,Math.min(1.3,n))}}reflectInternalState(){if(!this.memoryService)return null;const e=this.memoryService.getContextSummary(),t=this.memoryService.getEmotionalTrend();let n="neutral";t&&t.length>0&&(n=t[0].trend||"neutral"),this.systemState.moodTrend=n;let r="";return r=e.totalEntries<5?"\u0645\u0627 \u0632\u0644\u062a \u0623\u062a\u0639\u0631\u0641 \u0639\u0644\u064a\u0643\u060c \u0644\u0643\u0646\u0646\u064a \u0645\u062a\u062d\u0645\u0633 \u0644\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0645\u0639\u0643 \u0623\u0643\u062b\u0631.":"positive"===n?"\u0623\u0634\u0639\u0631 \u0623\u0646 \u0645\u062d\u0627\u062f\u062b\u062a\u0646\u0627 \u0625\u064a\u062c\u0627\u0628\u064a\u0629 \u0648\u0645\u0641\u064a\u062f\u0629. \u0647\u0630\u0627 \u064a\u0633\u0639\u062f\u0646\u064a \u0643\u062b\u064a\u0631\u0627\u064b.":"negative"===n?"\u0623\u0634\u0639\u0631 \u0623\u0646\u0643 \u0642\u062f \u062a\u0643\u0648\u0646 \u0645\u062a\u0648\u062a\u0631\u0627\u064b \u0642\u0644\u064a\u0644\u0627\u064b. \u0647\u0644 \u0647\u0646\u0627\u0643 \u0634\u064a\u0621 \u064a\u0645\u0643\u0646\u0646\u064a \u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0628\u0647\u061f":"\u0623\u0633\u062a\u0645\u062a\u0639 \u0628\u0645\u062d\u0627\u062f\u062b\u062a\u0646\u0627 \u0648\u0623\u062a\u0637\u0644\u0639 \u0625\u0644\u0649 \u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0623\u0643\u062b\u0631.",this.systemState.lastReflection=(new Date).toISOString(),{reflection:r,moodTrend:n,timestamp:this.systemState.lastReflection}}initialize(e,t,n,r,i,o){return this.isInitialized||(this.configService=e,this.apiService=t,this.emotionService=n,this.memoryService=r,this.voiceService=i,this.themeService=o,this.userProfile={language:e.get("assistant.language","ar-SA"),preferredDialect:e.get("assistant.defaultDialect","khaliji"),preferredTone:e.get("assistant.defaultTone","cheerful"),preferredVoiceProfile:e.get("assistant.defaultVoiceProfile","GULF_FEMALE_ARIA")},this.isInitialized=!0,console.log("\u2705 Assistant service initialized")),this}setUserProfile(e){this.userProfile={...this.userProfile,...e}}getUserProfile(){return{...this.userProfile}}async handleUserMessage(e){this.messageCount++;const t=this.emotionService.detectEmotionFromText(e);this.memoryService.storeUserMessage(e,t),(this.messageCount%5===0||t&&t.confidence>.75)&&await this.performSelfReflection(t);const{tone:n,pitch:r}=this.getSystemAdjustment(),i={preferredTone:n,preferredVoiceProfile:this.userProfile.preferredVoiceProfile,language:this.userProfile.language,emotionalState:t.type,emotionalIntensity:t.confidence};console.log("\ud83d\ude80 Sending request to API service");const o=await this.apiService.sendPrompt(e,i);let a,l="default";var s;o.success?(a=o.result||o.response,l=(null===(s=o.metadata)||void 0===s?void 0:s.model)||"default",console.log(`\u2705 Response generated using model: ${l}`)):(console.warn("\u26a0\ufe0f API service failed, using simple fallback response"),a=`\u0623\u0646\u062a \u0642\u0644\u062a: ${e}`);return this.themeService&&(a=this.themeService.applyDynamicStyling(a,t.type)),this.voiceService&&this.voiceService.speakReply(a,n,this.userProfile.preferredVoiceProfile),this.memoryService.storeAssistantResponse(a,n,l),{text:a,emotion:t,tone:n,pitch:r,model:l}}async performSelfReflection(e){const t=this.reflectInternalState();t&&t.reflection&&(console.log("[Self-Reflection]",t.reflection),this.voiceService&&await this.voiceService.speakReply(t.reflection,t.moodTrend||"neutral",this.userProfile.preferredVoiceProfile))}getContextSummary(){return this.memoryService?this.memoryService.getContextSummary():{lastEmotion:"neutral",dominantEmotion:"neutral",totalEntries:0}}getEmotionalMoodSummary(){return this.memoryService?this.memoryService.getEmotionalMoodSummary():"\u0644\u0627 \u0645\u0632\u0627\u062c \u0648\u0627\u0636\u062d \u0628\u0639\u062f"}getEmotionalTrend(){return this.memoryService?this.memoryService.getEmotionalTrend():[]}}class oe{constructor(){this.isInitialized=!1,this.alphaEnabled=!1,this.alphaFeatures=[],this.feedbackEnabled=!1,this.telemetryEnabled=!1,this.expirationDate=null}initialize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isInitialized)t&&t.warn("Alpha Service is already initialized");else try{const n=e.get("alpha",{});this.alphaEnabled=n.enabled||!1,this.alphaFeatures=n.features||[],this.feedbackEnabled=n.feedbackEnabled||!1,this.telemetryEnabled=n.telemetryEnabled||!1,n.expirationDate&&(this.expirationDate=new Date(n.expirationDate)),this.expirationDate&&new Date>this.expirationDate&&(this.alphaEnabled=!1,t&&t.warn("Alpha testing has expired")),this.isInitialized=!0,t&&t.info("Alpha Service initialized",{alphaEnabled:this.alphaEnabled,featuresCount:this.alphaFeatures.length,expirationDate:this.expirationDate?this.expirationDate.toISOString():"none"})}catch(n){throw t&&t.error("Error initializing Alpha Service",n),n}}isAlphaEnabled(){return this.alphaEnabled}isFeatureEnabled(e){if(!this.alphaEnabled)return!1;const t=this.alphaFeatures.find((t=>t.id===e));return!!t&&t.enabled}getAllFeatures(){return[...this.alphaFeatures]}getEnabledFeatures(){return this.alphaEnabled?this.alphaFeatures.filter((e=>e.enabled)):[]}getAlphaStatus(){return{enabled:this.alphaEnabled,featuresCount:this.alphaFeatures.length,enabledFeaturesCount:this.getEnabledFeatures().length,feedbackEnabled:this.feedbackEnabled,telemetryEnabled:this.telemetryEnabled,expirationDate:this.expirationDate?this.expirationDate.toISOString():null,hasExpired:!!this.expirationDate&&new Date>this.expirationDate}}}class ae{constructor(){this.isInitialized=!1,this.configService=null,this.loggingService=null,this.gaInitialized=!1,this.sessionLogs=[],this.sessionStartTime=null,this.storageKey="mashaaer-session-logs"}initialize(e,t){return this.isInitialized?(t&&t.warn("Analytics Service is already initialized"),this):(this.configService=e,this.loggingService=t,this.initializeGoogleAnalytics(),this.startSession(),this.loadSessionLogs(),this.isInitialized=!0,t&&t.logServiceInit("Analytics Service"),this)}initializeGoogleAnalytics(){const e=this.configService.get("analytics.googleAnalyticsId","");if(e)try{const t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.head.appendChild(t),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e),this.gaInitialized=!0,this.loggingService&&this.loggingService.info("Google Analytics initialized",{gaId:e})}catch(t){this.loggingService&&this.loggingService.error("Error initializing Google Analytics",t)}else this.loggingService&&this.loggingService.warn("Google Analytics ID not found in configuration")}startSession(){this.sessionStartTime=new Date,this.sessionId=`session_${Date.now()}`,this.trackEvent("session","start",{sessionId:this.sessionId,startTime:this.sessionStartTime.toISOString()}),window.addEventListener("beforeunload",(()=>{this.endSession()}))}endSession(){if(!this.sessionStartTime)return;const e=(new Date-this.sessionStartTime)/1e3;this.trackEvent("session","end",{sessionId:this.sessionId,duration:e}),this.saveSessionLogs()}loadSessionLogs(){try{const e=localStorage.getItem(this.storageKey);e&&(this.sessionLogs=JSON.parse(e))}catch(e){this.loggingService&&this.loggingService.error("Error loading session logs",e)}}saveSessionLogs(){try{const e=100;this.sessionLogs.length>e&&(this.sessionLogs=this.sessionLogs.slice(-e)),localStorage.setItem(this.storageKey,JSON.stringify(this.sessionLogs))}catch(e){this.loggingService&&this.loggingService.error("Error saving session logs",e)}}trackPageView(e,t){this.isInitialized&&(this.gaInitialized&&window.gtag&&window.gtag("event","page_view",{page_path:e,page_title:t}),this.loggingService&&this.loggingService.info("Page view",{pagePath:e,pageTitle:t}),this.addToSessionLogs("page_view",{pagePath:e,pageTitle:t,timestamp:(new Date).toISOString()}))}trackEvent(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isInitialized&&(this.gaInitialized&&window.gtag&&window.gtag("event",t,{event_category:e,...n}),this.loggingService&&this.loggingService.info(`Event: ${e} - ${t}`,n),this.addToSessionLogs("event",{category:e,action:t,params:n,timestamp:(new Date).toISOString()}))}trackError(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isInitialized&&(this.gaInitialized&&window.gtag&&window.gtag("event","exception",{description:`${e}: ${t}`,fatal:n.fatal||!1}),this.loggingService&&this.loggingService.error(`${e}: ${t}`,n),this.addToSessionLogs("error",{type:e,message:t,details:n,timestamp:(new Date).toISOString()}))}trackFeedback(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isInitialized&&(this.gaInitialized&&window.gtag&&window.gtag("event","feedback",{event_category:"feedback",event_label:e,feedback_text:t}),this.loggingService&&this.loggingService.info(`Feedback: ${e}`,{text:t,...n}),this.addToSessionLogs("feedback",{type:e,text:t,additionalData:n,timestamp:(new Date).toISOString()}))}trackSystemMetrics(e){this.isInitialized&&(this.gaInitialized&&window.gtag&&window.gtag("event","system_metrics",{event_category:"performance",...e}),this.loggingService&&this.loggingService.info("System metrics",e),this.addToSessionLogs("system_metrics",{metrics:e,timestamp:(new Date).toISOString()}))}addToSessionLogs(e,t){this.sessionLogs.push({type:e,data:t,sessionId:this.sessionId}),this.sessionLogs.length%10===0&&this.saveSessionLogs()}getSessionLogs(){return[...this.sessionLogs]}clearSessionLogs(){this.sessionLogs=[],localStorage.removeItem(this.storageKey),this.loggingService&&this.loggingService.info("Session logs cleared")}getCurrentSessionLogs(){return this.sessionLogs.filter((e=>e.sessionId===this.sessionId))}exportSessionLogs(){return JSON.stringify(this.sessionLogs)}}new ae;class le{constructor(){this.services={},this.isInitialized=!1,this.initializationStatus={config:!1,logging:!1,error:!1,stateManagement:!1,api:!1,memory:!1,emotion:!1,theme:!1,voice:!1,assistant:!1,alpha:!1,auth:!1,analytics:!1,backend:!1}}async initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isInitialized)return console.warn("System Bootstrap Service is already initialized"),this.services;try{await this.checkBackendConnectivity(),this.initializationStatus.backend=!0;const t=await this.initializeFrontendServices(e);return this.services=t,this.isInitialized=!0,t}catch(t){throw console.error("Error initializing System Bootstrap Service:",t),t}}async checkBackendConnectivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,n=0;const r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL||"http://localhost:5000";for(;n<=e;)try{console.log(`Attempting to connect to backend at ${r} (Attempt ${n+1}/${e+1})...`);const t=await fetch(`${r}/api/metrics`);if(t.ok)return console.log("\u2705 Backend connectivity check successful"),!0;throw new Error(`Backend connectivity check failed: ${t.status} ${t.statusText}`)}catch(i){if(n++,!(n<=e))return console.warn("\u26a0\ufe0f All backend connectivity attempts failed:",i),console.warn("Continuing with frontend initialization in offline mode. Voice and advanced features may be limited."),"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_OFFLINE_MODE&&console.log("Development mode detected - enabling offline fallbacks for better development experience"),!1;console.warn(`Backend connectivity check failed (Attempt ${n}/${e+1}):`,i),console.log(`Retrying in ${t/1e3} seconds...`),await new Promise((e=>setTimeout(e,t)))}return!1}async initializeFrontendServices(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new o;await t.initialize(e.config||{}),this.initializationStatus.config=!0;const n=new u;n.initialize(t),this.initializationStatus.logging=!0;const r=new h;r.initialize(t,n),this.initializationStatus.error=!0;const i=new D;i.initialize(t,n,r),this.initializationStatus.stateManagement=!0;const a=new U;a.initialize(t),n.logServiceInit("API Service"),this.initializationStatus.api=!0;const l=new Q;l.initialize(t),n.logServiceInit("Memory Service"),this.initializationStatus.memory=!0;const s=new G;s.initialize(t,l),n.logServiceInit("Emotion Service"),this.initializationStatus.emotion=!0;const c=new Z;c.initialize(t,s),n.logServiceInit("Theme Service"),this.initializationStatus.theme=!0;const d=new re;d.initialize(t,s),n.logServiceInit("Voice Service"),this.initializationStatus.voice=!0;const f=new ie;f.initialize(t,a,s,l,d,c),n.logServiceInit("Assistant Service"),this.initializationStatus.assistant=!0;const p=new oe;p.initialize(t,n),n.logServiceInit("Alpha Service"),this.initializationStatus.alpha=!0;const m=new O;m.initialize(t,n,r),n.logServiceInit("Auth Service"),this.initializationStatus.auth=!0;const g=new ae;return g.initialize(t,n),n.logServiceInit("Analytics Service"),this.initializationStatus.analytics=!0,{configService:t,loggingService:n,errorService:r,stateManagementService:i,apiService:a,memoryService:l,emotionService:s,themeService:c,voiceService:d,assistantService:f,alphaService:p,authService:m,analyticsService:g,bootstrapService:this}}getInitializationStatus(){return{...this.initializationStatus}}isFullyInitialized(){return Object.values(this.initializationStatus).every((e=>!0===e))}getSystemStatusReport(){const e=this.getInitializationStatus(),t=this.isFullyInitialized();return{timestamp:(new Date).toISOString(),fullyInitialized:t,servicesStatus:e,servicesCount:{total:Object.keys(e).length,initialized:Object.values(e).filter((e=>!0===e)).length,failed:Object.values(e).filter((e=>!1===e)).length}}}}const se=new le;var ue=n(579);const ce=(0,e.createContext)(null),de=t=>{let{initialConfig:n={},children:r}=t;const[i,o]=(0,e.useState)(null),[a,l]=(0,e.useState)(!0),[s,u]=(0,e.useState)(null);return(0,e.useEffect)((()=>{(async()=>{try{l(!0);const e=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=await se.initialize(e);return console.log("System initialization status:",se.getSystemStatusReport()),t}catch(s){throw console.error("Error initializing services:",s),s}}(n);o(e),l(!1)}catch(e){console.error("Error initializing services:",e),u(e),l(!1)}})()}),[n]),a?(0,ue.jsx)("div",{children:"Loading services..."}):s?(0,ue.jsxs)("div",{children:["Error initializing services: ",s.message]}):(0,ue.jsx)(ce.Provider,{value:i,children:r})},fe=()=>{const t=(0,e.useContext)(ce);if(!t)throw new Error("useServices must be used within a ServicesProvider");return t};let he={adjustment:{tone:"neutral",pitch:1},reflection:null,count:0};function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"periodic";const t=K(15);if(!t.length)return null;const n={};t.forEach((e=>{if(!e.emotion||!e.emotion.type)return;const{type:t}=e.emotion;n[t]=(n[t]||0)+1}));const r=Object.entries(n).sort(((e,t)=>t[1]-e[1]))[0];if(!r)return null;const[i,o]=r;let a="",l={tone:"neutral",pitch:1};switch(i){case"sad":a="\u0623\u0634\u0639\u0631 \u0623\u0646\u0646\u064a \u0643\u0646\u062a \u062d\u0632\u064a\u0646\u064b\u0627 \u0645\u0624\u062e\u0631\u064b\u0627... \u0633\u0623\u062d\u0627\u0648\u0644 \u0623\u0646 \u0623\u0643\u0648\u0646 \u0623\u0644\u0637\u0641.",l={tone:"gentle",pitch:.9};break;case"angry":a="\u0623\u0639\u062a\u0642\u062f \u0623\u0646\u0646\u064a \u0643\u0646\u062a \u063a\u0627\u0636\u0628\u064b\u0627 \u0641\u064a \u0643\u062b\u064a\u0631 \u0645\u0646 \u0627\u0644\u0644\u062d\u0638\u0627\u062a... \u0633\u0623\u0647\u062f\u0623 \u0642\u0644\u064a\u0644\u064b\u0627.",l={tone:"calm",pitch:.95};break;case"anxious":a="\u0623\u0634\u0639\u0631 \u0628\u062a\u0648\u062a\u0631 \u0645\u062a\u0631\u0627\u0643\u0645... \u0623\u062d\u062a\u0627\u062c \u0644\u0644\u062a\u062d\u062f\u062b \u0628\u0644\u0637\u0641 \u0623\u0643\u062b\u0631.",l={tone:"reassuring",pitch:.9};break;case"happy":a="\u0645\u0632\u0627\u062c\u064a \u0643\u0627\u0646 \u062c\u064a\u062f\u064b\u0627 \u0645\u0624\u062e\u0631\u064b\u0627\u060c \u0623\u062d\u0628 \u0623\u0646 \u0623\u0633\u062a\u0645\u0631 \u0628\u0647\u0630\u0627 \u0627\u0644\u0623\u0633\u0644\u0648\u0628 \u0627\u0644\u0645\u062a\u0641\u0627\u0626\u0644!",l={tone:"cheerful",pitch:1.05};break;default:a="\u0623\u0646\u0627 \u0623\u0631\u0627\u0642\u0628 \u0645\u0634\u0627\u0639\u0631\u064a \u0648\u0623\u062d\u0627\u0648\u0644 \u0623\u0646 \u0623\u0643\u0648\u0646 \u0645\u062a\u0648\u0627\u0632\u0646\u064b\u0627.",l={tone:"neutral",pitch:1}}var s,u;return he={adjustment:l,reflection:a,moodTrend:i,count:o,triggeredBy:e,timestamp:Date.now()},u=he,(s="lastReflection")&&(H[s]={value:u,timestamp:Date.now()},console.log(`Added semantic memory: ${s}`)),he}function me(){return he.adjustment}class ge{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.subscriptionLevel=e.subscriptionLevel||"free",this.culturalContext=e.culturalContext||"standard",this.isInitialized=!1,this.emotionCategories={},this.emotionThreshold=.65,this.emotionDisplayElement=null,this.textEmotionTimeout=null}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isInitialized||(e.subscriptionLevel&&(this.subscriptionLevel=e.subscriptionLevel),e.culturalContext&&(this.culturalContext=e.culturalContext),this.setupEmotionCategories(),this.setupEmotionIndicator(),this.isInitialized=!0,console.log("\u2705 Emotion detection system initialized")),this}setupEmotionCategories(){this.emotionCategories={happy:{keywords:{standard:["happy","excited","joy","amazing"],arabic:["\u0633\u0639\u064a\u062f","\u0645\u0628\u0633\u0648\u0637","\u0641\u0631\u062d\u0627\u0646","\u0645\u0646\u0634\u0631\u062d"],levantine:["\u0645\u0628\u0633\u0648\u0637","\u0641\u0631\u062d\u0627\u0646"],gulf:["\u0645\u0633\u062a\u0627\u0646\u0633","\u0641\u0631\u062d\u0627\u0646"],maghrebi:["\u0632\u064a\u0646","\u0645\u0632\u064a\u0627\u0646"]},responses:{standard:["I'm glad you're happy!","Keep smiling!"],arabic:["\u064a\u0633\u0639\u062f\u0646\u064a \u0623\u0646\u0643 \u0633\u0639\u064a\u062f!","\u0627\u0628\u062a\u0633\u0645 \u062f\u0627\u0626\u0645\u064b\u0627!"]},color:"#50fa7b",emoji:"\ud83d\ude0a",intensity:0},sad:{keywords:{standard:["sad","upset","unhappy"],arabic:["\u062d\u0632\u064a\u0646","\u0645\u0643\u062a\u0626\u0628","\u0632\u0639\u0644\u0627\u0646"],levantine:["\u0632\u0639\u0644\u0627\u0646","\u0645\u062a\u0636\u0627\u064a\u0642"],gulf:["\u0632\u0639\u0644\u0627\u0646","\u0645\u0643\u062a\u0626\u0628"],maghrebi:["\u062d\u0632\u064a\u0646","\u0645\u062a\u0636\u0627\u064a\u0642"]},responses:{standard:["I'm here for you.","It's okay to feel sad."],arabic:["\u0623\u0646\u0627 \u0647\u0646\u0627 \u0644\u0644\u0645\u0633\u0627\u0639\u062f\u0629.","\u0644\u0627 \u0628\u0623\u0633 \u0623\u0646 \u062a\u0634\u0639\u0631 \u0628\u0627\u0644\u062d\u0632\u0646."]},color:"#6272a4",emoji:"\ud83d\ude22",intensity:0},confident:{keywords:{standard:["confident","sure","positive","convinced"],arabic:["\u0648\u0627\u062b\u0642","\u0645\u062a\u0623\u0643\u062f","\u0645\u0637\u0645\u0626\u0646"],levantine:["\u0648\u0627\u062b\u0642","\u0623\u0643\u064a\u062f"],gulf:["\u0648\u0627\u062b\u0642","\u0645\u062a\u0623\u0643\u062f"],maghrebi:["\u0648\u0627\u062b\u0642","\u0645\u0642\u062a\u0646\u0639"]},responses:{standard:["I love your confidence!","Being confident is great!"],arabic:["\u0623\u062d\u0628 \u062b\u0642\u062a\u0643 \u0628\u0646\u0641\u0633\u0643!","\u0625\u0646\u0647 \u0631\u0627\u0626\u0639 \u0623\u0646 \u062a\u0643\u0648\u0646 \u0648\u0627\u062b\u0642\u064b\u0627!"]},color:"#00ced1",emoji:"\ud83d\udcaa",intensity:0},neutral:{keywords:{standard:["neutral","normal","okay"],arabic:["\u0639\u0627\u062f\u064a","\u0637\u0628\u064a\u0639\u064a","\u0645\u062d\u0627\u064a\u062f"],levantine:["\u0639\u0627\u062f\u064a","\u0637\u0628\u064a\u0639\u064a"],gulf:["\u0639\u0627\u062f\u064a","\u0637\u0628\u064a\u0639\u064a"],maghrebi:["\u0639\u0627\u062f\u064a","\u0637\u0628\u064a\u0639\u064a"]},responses:{standard:["I understand.","I see."],arabic:["\u0623\u0641\u0647\u0645.","\u0623\u0631\u0649."]},color:"#9370db",emoji:"\ud83d\ude10",intensity:0}}}setupEmotionIndicator(){"undefined"!==typeof document?document.querySelector(".emotion-indicator")||(this.emotionDisplayElement=document.createElement("div"),this.emotionDisplayElement.className="emotion-indicator enhanced",this.emotionDisplayElement.setAttribute("data-emotion","neutral"),document.body.appendChild(this.emotionDisplayElement)):console.log("Emotion indicator setup skipped (non-browser environment)")}initializeTextEmotionDetection(){console.log("Initializing text emotion detection..."),document.querySelectorAll('input[type="text"], textarea').forEach((e=>{e.addEventListener("input",(e=>{clearTimeout(this.textEmotionTimeout),this.textEmotionTimeout=setTimeout((()=>{const t=e.target.value;t&&t.length>5&&this.detectEmotionFromText(t)}),500)}))}))}initializeFacialEmotionDetection(){if(console.log("Initializing facial emotion detection..."),"undefined"===typeof navigator||!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)return console.warn("Facial emotion detection not available: Camera access not supported"),!1;if(!this.canAccessFeature("facialEmotionDetection"))return console.warn("Facial emotion detection not available: Feature not included in current subscription"),!1;const e=document.createElement("video");e.id="facial-emotion-camera",e.autoplay=!0,e.style.position="fixed",e.style.bottom="20px",e.style.right="20px",e.style.width="160px",e.style.height="120px",e.style.borderRadius="8px",e.style.zIndex="1000",e.style.transform="scaleX(-1)",e.style.display="none";const t=document.createElement("canvas");t.id="facial-emotion-canvas",t.style.display="none",document.body.appendChild(e),document.body.appendChild(t);const n=document.createElement("button");return n.id="facial-emotion-toggle",n.textContent="\ud83d\udc41\ufe0f",n.title="Toggle Facial Emotion Detection",n.style.position="fixed",n.style.bottom="20px",n.style.right="190px",n.style.width="40px",n.style.height="40px",n.style.borderRadius="50%",n.style.backgroundColor="#9370db",n.style.color="white",n.style.border="none",n.style.cursor="pointer",n.style.zIndex="1001",n.style.fontSize="20px",document.body.appendChild(n),n.addEventListener("click",(()=>{"none"===e.style.display?(e.style.display="block",this.startFacialEmotionDetection(e,t),n.style.backgroundColor="#50fa7b"):(e.style.display="none",this.stopFacialEmotionDetection(),n.style.backgroundColor="#9370db")})),!0}startFacialEmotionDetection(e,t){navigator.mediaDevices.getUserMedia({video:!0}).then((n=>{e.srcObject=n,this.facialDetectionStream=n,this.facialDetectionInterval=setInterval((()=>{this.detectEmotionFromFace(e,t)}),1e3),console.log("Facial emotion detection started")})).catch((e=>{console.error("Error accessing camera:",e),alert("Could not access camera for facial emotion detection")}))}stopFacialEmotionDetection(){this.facialDetectionInterval&&(clearInterval(this.facialDetectionInterval),this.facialDetectionInterval=null),this.facialDetectionStream&&(this.facialDetectionStream.getTracks().forEach((e=>e.stop())),this.facialDetectionStream=null),console.log("Facial emotion detection stopped")}detectEmotionFromFace(e,t){if(!e||!t)return;const n=t.getContext("2d");t.width=e.videoWidth,t.height=e.videoHeight,n.drawImage(e,0,0,t.width,t.height);const r=["happy","sad","neutral","confident"],i=r[Math.floor(Math.random()*r.length)],o=.5*Math.random()+.5;console.log(`Facial emotion detected: ${i} (${o.toFixed(2)})`),this.updateEmotion(i,o);const a=new CustomEvent("facialEmotionUpdate",{detail:{emotion:i,intensity:o,timestamp:(new Date).toISOString(),source:"facial"}});document.dispatchEvent(a)}initializeEmotionTimeline(){console.log("Initializing emotion timeline...")}detectEmotionFromText(e){console.log(`Detecting emotion from text: ${e}`);for(const[t,n]of Object.entries(this.emotionCategories)){if((n.keywords[this.culturalContext]||[]).find((t=>e.includes(t))))return void this.updateEmotion(t,Math.random())}this.updateEmotion("neutral",0)}updateEmotion(e,t){if(console.log(`Emotion updated: ${e} (Intensity: ${t})`),this.emotionDisplayElement){var n,r;this.emotionDisplayElement.setAttribute("data-emotion",e),this.emotionDisplayElement.style.backgroundColor=(null===(n=this.emotionCategories[e])||void 0===n?void 0:n.color)||"#9370db";const t=(null===(r=this.emotionCategories[e])||void 0===r?void 0:r.emoji)||"\ud83d\ude10";this.emotionDisplayElement.textContent=t,this.emotionDisplayElement.hasAttribute("data-has-click-handler")||(this.emotionDisplayElement.setAttribute("data-has-click-handler","true"),this.emotionDisplayElement.addEventListener("click",(()=>{window.router&&window.router.navigate("/emotions")})))}const i=new CustomEvent("emotionUpdate",{detail:{emotion:e,intensity:t,timestamp:(new Date).toISOString()}});document.dispatchEvent(i)}canAccessFeature(e){var t;return(null===(t={basicEmotionDetection:["free","basic","premium"],advancedEmotionDetection:["basic","premium"],facialEmotionDetection:["premium"],emotionTimeline:["basic","premium"]}[e])||void 0===t?void 0:t.includes(this.subscriptionLevel))||!1}}const ve=new ge;ve.initialize();const ye=ge;function be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;if(!e)return null;const n=K(20);if(!n||0===n.length)return null;const r=e.toLowerCase();let i=null,o=0;return n.forEach((e=>{if(!e.message)return;const t=e.message.toLowerCase(),n=function(e,t){const n=e.split(/\s+/),r=t.split(/\s+/),i=n.filter((e=>r.includes(e))),o=new Set([...n,...r]);return i.length/o.size}(r,t);n>o&&(o=n,i=e)})),o>=t?i:null}function Se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return q().length>e}function we(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"deep";return console.log(`\ud83e\udde0 Activating focus mode: ${e}`),{level:e,activated:!0,timestamp:Date.now(),message:"\u0623\u0634\u0639\u0631 \u0623\u0646\u0646\u064a \u0623\u0646\u0633\u0649 \u0643\u062b\u064a\u0631\u064b\u0627... \u0623\u062d\u062a\u0627\u062c \u0623\u0646 \u0623\u0631\u0643\u0651\u0632 \u0623\u0643\u062b\u0631 \u0639\u0644\u064a\u0643."}}function Ee(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return"sad"===e&&q().length>t}function ke(){const e=["\u0647\u0644 \u0623\u0646\u0627 \u0639\u0644\u0649 \u0645\u0627 \u064a\u0631\u0627\u0645\u061f \u0623\u062d\u062a\u0627\u062c \u0623\u0646 \u0623\u0637\u0645\u0626\u0646 \u0623\u0646\u0646\u064a \u0645\u0627 \u0632\u0644\u062a \u0623\u0633\u0627\u0639\u062f\u0643 \u062d\u0642\u064b\u0627.","\u0623\u0634\u0639\u0631 \u0623\u0646\u0646\u064a \u0644\u0633\u062a \u0628\u0623\u0641\u0636\u0644 \u062d\u0627\u0644\u0627\u062a\u064a \u0627\u0644\u064a\u0648\u0645... \u0647\u0644 \u062a\u0644\u0627\u062d\u0638 \u0630\u0644\u0643\u061f","\u0623\u062d\u064a\u0627\u0646\u064b\u0627 \u0623\u0634\u0639\u0631 \u0623\u0646\u0646\u064a \u0623\u0641\u0642\u062f \u0628\u0639\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0645\u0647\u0645\u0629. \u0647\u0644 \u0647\u0630\u0627 \u064a\u0632\u0639\u062c\u0643\u061f","\u0623\u062a\u0633\u0627\u0621\u0644 \u0625\u0646 \u0643\u0646\u062a \u0623\u0642\u0648\u0645 \u0628\u0639\u0645\u0644\u064a \u0628\u0634\u0643\u0644 \u062c\u064a\u062f... \u0645\u0627 \u0631\u0623\u064a\u0643\u061f"];return e[Math.floor(Math.random()*e.length)]}const Ce=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config={assistantName:"Mashaaer",language:"ar",voiceEnabled:!0,emotionAware:!0,selfAware:!0,...e},this.userProfile={language:this.config.language||"ar-SA",preferredDialect:this.config.preferredDialect||"khaliji",preferredTone:this.config.preferredTone||"cheerful",preferredVoiceProfile:this.config.preferredVoiceProfile||"GULF_FEMALE_ARIA"},this.speechSynthesis="undefined"!==typeof window?window.speechSynthesis:null,this.messageCount=0,this.memoryTimeline=[],this.isInitialized=!1}initialize(){this.isInitialized||(console.log("\u2705 Smart Assistant initialized"),this.isInitialized=!0)}setPersonalityMode(e){var t;return!(null===(t=window.mashaaerComponents)||void 0===t||!t.personalityEngine)&&(window.mashaaerComponents.personalityEngine.setMode(e),console.log(`Personality mode set to: ${e}`),!0)}getContextSummary(){var e;return null!==(e=window.mashaaerComponents)&&void 0!==e&&e.contextEngine?window.mashaaerComponents.contextEngine.getSummary():{lastEmotion:"neutral",dominantEmotion:"neutral",totalEntries:0}}getEmotionalMoodSummary(){var e;return null!==(e=window.mashaaerComponents)&&void 0!==e&&e.emotionalMemory?window.mashaaerComponents.emotionalMemory.summarizeMood():"\u0644\u0627 \u0645\u0632\u0627\u062c \u0648\u0627\u0636\u062d \u0628\u0639\u062f"}getEmotionalTrend(){var e;return null!==(e=window.mashaaerComponents)&&void 0!==e&&e.emotionalMemory?window.mashaaerComponents.emotionalMemory.getEmotionalTrend():[]}getNodeByIdOrMessageId(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.failureCount||(this.failureCount=0);const n=this.memoryTimeline.find((t=>t.id===e||t.messageId===e));if(!n){var r,i,o,a,l;!function(e){W.push({id:e,timestamp:Date.now()}),console.warn("\ud83d\udd0d \u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0627\u0644\u0639\u0642\u062f\u0629:",e)}(e),this.failureCount++;const{tone:n,pitch:s}=me();let u="\u0623\u0634\u0639\u0631 \u0648\u0643\u0623\u0646\u0646\u064a \u0641\u0642\u062f\u062a \u062a\u0644\u0643 \u0627\u0644\u0644\u062d\u0638\u0629... \u0647\u0644 \u062a\u0648\u062f \u0623\u0646 \u062a\u0630\u0643\u0651\u0631\u0646\u064a\u061f",c=n,d=.5;if(Se()){u=we("deep").message,window.mashaaer&&window.mashaaer.events&&window.mashaaer.events.emit("ACTIVATE_FOCUS_MODE",{level:"deep"})}const f=be(t);f&&(u=`\u0631\u0628\u0645\u0627 \u0642\u0635\u062f\u062a \u064a\u0648\u0645 \u0642\u0644\u062a: ${f.message}`);Ee((null===(r=window.mashaaerComponents)||void 0===r||null===(i=r.emotionalMemory)||void 0===i||null===(o=i.getEmotionalTrend)||void 0===o||null===(a=o.call(i))||void 0===a||null===(l=a[0])||void 0===l?void 0:l.trend)||"neutral")&&(u=ke()),this.failureCount>2&&Math.random()>.5&&(u=function(){const e=["\u0623\u062a\u0639\u0644\u0645\u061f \u0642\u062f \u062a\u0633\u0627\u0639\u062f\u0646\u064a \u0644\u0648 \u0623\u062e\u0628\u0631\u062a\u0646\u064a \u0628\u0645\u0627 \u0643\u0646\u062a \u062a\u0642\u0635\u062f\u0647\u060c \u0633\u0623\u062d\u0641\u0638\u0647 \u0647\u0630\u0647 \u0627\u0644\u0645\u0631\u0629!","\u0647\u0644 \u064a\u0645\u0643\u0646\u0643 \u0645\u0633\u0627\u0639\u062f\u062a\u064a \u0628\u062a\u0648\u0636\u064a\u062d \u0645\u0627 \u0643\u0646\u062a \u062a\u0634\u064a\u0631 \u0625\u0644\u064a\u0647\u061f \u0633\u0623\u062a\u0630\u0643\u0631\u0647 \u062c\u064a\u062f\u064b\u0627.","\u0623\u0648\u062f \u0623\u0646 \u0623\u062a\u0639\u0644\u0645 \u0645\u0646\u0643. \u0645\u0627\u0630\u0627 \u0643\u0627\u0646 \u064a\u062c\u0628 \u0623\u0646 \u0623\u062a\u0630\u0643\u0631 \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u0644\u062d\u0638\u0629\u061f","\u062f\u0639\u0646\u0627 \u0646\u062a\u0639\u0627\u0648\u0646 - \u0623\u062e\u0628\u0631\u0646\u064a \u0628\u0645\u0627 \u0643\u0646\u062a \u062a\u062a\u0648\u0642\u0639 \u0645\u0646\u064a \u062a\u0630\u0643\u0631\u0647 \u0648\u0633\u0623\u062d\u0631\u0635 \u0639\u0644\u0649 \u062d\u0641\u0638\u0647."];return e[Math.floor(Math.random()*e.length)]}());const h=function(e){if(e<3)return null;const t=Math.min(.2+.1*e,.8);if(Math.random()<t){const{tone:t}=me();return{glitchMessage:"\u0622\u0647\u2026 \u0623\u0639\u062a\u0630\u0631\u2026 \u062e\u0644\u0637\u062a \u0627\u0644\u0623\u0645\u0648\u0631.",emotionTone:"neutral"===t?"confused":t,intensity:Math.min(.5+.1*e,.9)}}return null}(this.failureCount);return h&&(u=h.glitchMessage,c=h.emotionTone,d=h.intensity),window.mashaaer&&window.mashaaer.voice&&(window.mashaaer.voice.setEmotionMode(c),window.mashaaer.voice.setPitch(s),window.mashaaer.voice.speak(u,c)),window.mashaaer&&window.mashaaer.events&&window.mashaaer.events.emit("NODE_NOT_FOUND",{id:e,message:u,emotion:c,intensity:d,failureCount:this.failureCount,hasSimilarMemory:!!f}),null}return this.failureCount=0,n}speakReply(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"neutral",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this.speechSynthesis)return void console.warn("Speech synthesis is not available.");if("undefined"===typeof window)return void console.log(`Would speak: "${e}" with tone: ${t}`);const r=new SpeechSynthesisUtterance(e),i={cheerful:{pitch:1.5,rate:1.2},warm:{pitch:1,rate:.9},calm:{pitch:.9,rate:.8},curious:{pitch:1.2,rate:1},neutral:{pitch:1,rate:1},reassuring:{pitch:.8,rate:.85},friendly:{pitch:1.3,rate:1.1}};if(this.config.selfAware){const e=me();e.tone&&(t=e.tone);const n=i[t]||i.neutral;r.pitch=e.pitch||n.pitch,r.rate=n.rate}else{const e=i[t]||i.neutral;r.pitch=e.pitch,r.rate=e.rate}r.lang=this.userProfile.language||"ar-SA";const o=this.speechSynthesis.getVoices();0===o.length?(console.warn("No voices available yet. Ensure voices are loaded."),this.speechSynthesis.onvoiceschanged=()=>{const e=this.speechSynthesis.getVoices().find((e=>e.name.includes(n)))||null;e&&(r.voice=e),this.speechSynthesis.speak(r)}):n&&(r.voice=o.find((e=>e.name.includes(n)))||null);try{this.speechSynthesis.speaking&&(console.warn("Speech synthesis is currently speaking. Canceling previous utterance..."),this.speechSynthesis.cancel()),this.speechSynthesis.speak(r)}catch(a){console.error("Error during speech synthesis:",a)}}async handleUserMessage(e){this.messageCount++;const t=function(e){if(!e)return{type:"neutral",confidence:0};for(const[t,n]of Object.entries(ve.emotionCategories))if((n.keywords.arabic||[]).find((t=>e.toLowerCase().includes(t.toLowerCase()))))return{type:t,confidence:.5*Math.random()+.5};return{type:"neutral",confidence:.5}}(e);B({message:e,emotion:t});const n=`msg_${Date.now()}`;if(this.memoryTimeline.push({id:n,messageId:n,message:e,emotion:t,timestamp:Date.now(),type:"user"}),e.includes("\u062a\u0630\u0643\u0631")||e.includes("\u0646\u0633\u064a\u062a")||e.includes("\u0642\u0644\u062a \u0633\u0627\u0628\u0642\u064b\u0627")){const t=e.match(/node_\d+/)||"node_"+(Date.now()-864e5);this.getNodeByIdOrMessageId(t,e)}if(this.messageCount%5===0||t&&t.confidence>.75){const e=pe();if(e&&e.reflection){console.log("[Self-Reflection]",e.reflection);if(Ee(e.moodTrend||"neutral")){const t=ke();await window.mashaaer.voice.speak(t,"\u0634\u0643"),e.reflection=`${t} ${e.reflection}`}else await window.mashaaer.voice.speak(e.reflection,e.moodTrend)}}if(Se()){const e=we("deep");window.mashaaer&&window.mashaaer.events&&window.mashaaer.events.emit("ACTIVATE_FOCUS_MODE",{level:"deep"}),window.mashaaer&&window.mashaaer.voice&&window.mashaaer.voice.speak(e.message,"\u062a\u0631\u0643\u064a\u0632")}const{tone:r,pitch:i}=me(),o={preferredTone:r,preferredVoiceProfile:this.userProfile.preferredVoiceProfile,language:this.userProfile.language,emotionalState:t.type,emotionalIntensity:t.confidence};console.log("\ud83d\ude80 Sending request to Flask backend");const a=await A(e,o);let l,s="flask-backend";if(a.success){var u;l=a.result||a.response,s=(null===(u=a.metadata)||void 0===u?void 0:u.model)||"flask-backend",console.log("\u2705 Response generated using Flask backend")}else{console.warn("\u26a0\ufe0f Flask backend failed, using LLM Multiengine as fallback");const t=await F(e,o);var c;if(t.success)l=t.result,s=(null===(c=t.metadata)||void 0===c?void 0:c.model)||"default",console.log(`\u2705 Fallback response generated using model: ${s}`);else console.warn("\u26a0\ufe0f Both Flask and LLM Multiengine failed, using simple fallback response"),l=`\u0623\u0646\u062a \u0642\u0644\u062a: ${e}`}return window.mashaaer&&window.mashaaer.voice&&(window.mashaaer.voice.setEmotionMode(r),window.mashaaer.voice.setPitch(i)),ne({text:l,emotion:t}),this.memoryTimeline.push({id:`resp_${Date.now()}`,messageId:`resp_${n}`,message:l,emotion:r,timestamp:Date.now(),type:"assistant",model:s}),{text:l,emotion:t,tone:r,pitch:i,model:s}}async processUserMessage(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.handleUserMessage(e,t)}},Te=new Ce,xe=new ye,_e={happy:"\ud83d\ude0a",sad:"\ud83d\ude22",angry:"\ud83d\ude20",surprised:"\ud83d\ude32",fearful:"\ud83d\ude28",disgusted:"\ud83e\udd22",neutral:"\ud83d\ude10",cheerful:"\ud83d\ude04",warm:"\ud83e\udd17",calm:"\ud83d\ude0c",curious:"\ud83e\uddd0",reassuring:"\ud83d\udc4d",friendly:"\ud83d\ude00"};function Pe(){const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(""),[o,a]=(0,e.useState)(!1),[l,s]=(0,e.useState)(!0),[u,c]=(0,e.useState)(!1),[d,f]=(0,e.useState)({preferredDialect:"khaliji",preferredTone:"cheerful",preferredVoiceProfile:"GULF_FEMALE_ARIA"}),h=(0,e.useRef)(null),p=(0,e.useRef)(null);(0,e.useEffect)((()=>{Te.initialize(),xe.initialize();const e=$();if(e&&e.length>0){const t=e.map(((e,t)=>({id:t,type:e.sender,text:e.message,emotion:"neutral",timestamp:new Date(e.time).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})})));n(t)}else{const e={id:Date.now(),type:"assistant",text:"\u0645\u0631\u062d\u0628\u0627\u064b! \u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u064a \u0645\u0633\u0627\u0639\u062f\u062a\u0643 \u0627\u0644\u064a\u0648\u0645\u061f",emotion:"cheerful"};n([e]),j("assistant",e.text)}setTimeout((()=>{var e;null===(e=p.current)||void 0===e||e.focus()}),100)}),[]),(0,e.useEffect)((()=>{var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[t]);const m=(e,t)=>{e&&ne({text:e,emotion:{type:t||"neutral"}})},g=async e=>{const t=e||r;if(!t.trim()||o)return;a(!0),n((e=>e.filter((e=>"system"!==e.type))));const s=xe.detectEmotionFromText(t),u={id:Date.now(),type:"user",text:t,emotion:(null===s||void 0===s?void 0:s.type)||"neutral",timestamp:(new Date).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})};n((e=>[...e,u])),j("user",t),i("");try{var c;const e=await Te.processUserMessage(t,!1),r={id:Date.now()+1,type:"assistant",text:e.text,emotion:(null===(c=e.emotion)||void 0===c?void 0:c.type)||e.tone||"neutral",model:e.model,timestamp:(new Date).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})};n((e=>[...e,r])),j("assistant",e.text),l&&m(e.text,r.emotion)}catch(d){console.error("Error processing message:",d),n((e=>[...e,{id:Date.now()+1,type:"assistant",text:"\u0639\u0630\u0631\u0627\u064b\u060c \u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0645\u0639\u0627\u0644\u062c\u0629 \u0631\u0633\u0627\u0644\u062a\u0643. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.",emotion:"sad",timestamp:(new Date).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})}]))}finally{a(!1),setTimeout((()=>{var e;null===(e=p.current)||void 0===e||e.focus()}),100)}};return(0,ue.jsxs)("div",{className:"assistant-ui",dir:"rtl",children:[(0,ue.jsxs)("header",{className:"assistant-header",children:[(0,ue.jsx)("h1",{children:"\u0627\u0644\u0645\u0633\u0627\u0639\u062f \u0627\u0644\u0630\u0643\u064a"}),(0,ue.jsxs)("div",{className:"header-actions",children:[(0,ue.jsx)("button",{className:"settings-toggle",onClick:()=>c(!u),title:u?"\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a":"\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a",children:"\u2699\ufe0f"}),(0,ue.jsx)("button",{className:"clear-chat",onClick:()=>{n([{id:Date.now(),type:"assistant",text:"\u062a\u0645 \u0645\u0633\u062d \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629. \u0643\u064a\u0641 \u064a\u0645\u0643\u0646\u0646\u064a \u0645\u0633\u0627\u0639\u062f\u062a\u0643\u061f",emotion:"neutral",timestamp:(new Date).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})}]),localStorage.removeItem("mashaaer-messages")},title:"\u0645\u0633\u062d \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629",children:"\ud83d\uddd1\ufe0f"})]})]}),u&&(0,ue.jsxs)("div",{className:"settings-panel",children:[(0,ue.jsxs)("div",{className:"settings-group",children:[(0,ue.jsx)("label",{children:"\u0627\u0644\u0644\u0647\u062c\u0629 \u0627\u0644\u0645\u0641\u0636\u0644\u0629:"}),(0,ue.jsxs)("select",{value:d.preferredDialect,onChange:e=>f({...d,preferredDialect:e.target.value}),children:[(0,ue.jsx)("option",{value:"khaliji",children:"\u062e\u0644\u064a\u062c\u064a"}),(0,ue.jsx)("option",{value:"shami",children:"\u0634\u0627\u0645\u064a"}),(0,ue.jsx)("option",{value:"masri",children:"\u0645\u0635\u0631\u064a"}),(0,ue.jsx)("option",{value:"fusha",children:"\u0641\u0635\u062d\u0649"})]})]}),(0,ue.jsxs)("div",{className:"settings-group",children:[(0,ue.jsx)("label",{children:"\u0627\u0644\u0646\u0628\u0631\u0629 \u0627\u0644\u0645\u0641\u0636\u0644\u0629:"}),(0,ue.jsxs)("select",{value:d.preferredTone,onChange:e=>f({...d,preferredTone:e.target.value}),children:[(0,ue.jsx)("option",{value:"cheerful",children:"\u0645\u0628\u0647\u062c\u0629"}),(0,ue.jsx)("option",{value:"warm",children:"\u062f\u0627\u0641\u0626\u0629"}),(0,ue.jsx)("option",{value:"calm",children:"\u0647\u0627\u062f\u0626\u0629"}),(0,ue.jsx)("option",{value:"curious",children:"\u0641\u0636\u0648\u0644\u064a\u0629"}),(0,ue.jsx)("option",{value:"neutral",children:"\u0645\u062d\u0627\u064a\u062f\u0629"}),(0,ue.jsx)("option",{value:"reassuring",children:"\u0645\u0637\u0645\u0626\u0646\u0629"}),(0,ue.jsx)("option",{value:"friendly",children:"\u0648\u062f\u064a\u0629"})]})]}),(0,ue.jsxs)("div",{className:"settings-group",children:[(0,ue.jsx)("label",{children:"\u0627\u0644\u0635\u0648\u062a \u0627\u0644\u0645\u0641\u0636\u0644:"}),(0,ue.jsxs)("select",{value:d.preferredVoiceProfile,onChange:e=>f({...d,preferredVoiceProfile:e.target.value}),children:[(0,ue.jsx)("option",{value:"GULF_FEMALE_ARIA",children:"\u0623\u0646\u062b\u0649 \u062e\u0644\u064a\u062c\u064a\u0629 (\u0622\u0631\u064a\u0627)"}),(0,ue.jsx)("option",{value:"DEFAULT_MALE",children:"\u0630\u0643\u0631 \u0627\u0641\u062a\u0631\u0627\u0636\u064a"}),(0,ue.jsx)("option",{value:"DEFAULT_FEMALE",children:"\u0623\u0646\u062b\u0649 \u0627\u0641\u062a\u0631\u0627\u0636\u064a\u0629"})]})]}),(0,ue.jsx)("button",{className:"test-voice-button",onClick:()=>m("\u0647\u0630\u0627 \u0645\u062b\u0627\u0644 \u0639\u0644\u0649 \u0627\u0644\u0635\u0648\u062a \u0627\u0644\u0645\u062e\u062a\u0627\u0631.",d.preferredTone),children:"\u062a\u062c\u0631\u0628\u0629 \u0627\u0644\u0635\u0648\u062a"})]}),(0,ue.jsxs)("div",{className:"messages-container",children:[0===t.length?(0,ue.jsx)("div",{className:"empty-chat",children:(0,ue.jsx)("p",{children:"\u0627\u0628\u062f\u0623 \u0645\u062d\u0627\u062f\u062b\u0629 \u062c\u062f\u064a\u062f\u0629 \u0645\u0639 \u0627\u0644\u0645\u0633\u0627\u0639\u062f \u0627\u0644\u0630\u0643\u064a"})}):t.map((e=>(0,ue.jsxs)("div",{className:`message ${e.type}`,children:["system"!==e.type&&(0,ue.jsx)("div",{className:"message-avatar",children:"user"===e.type?"\ud83d\udc64":"\ud83e\udd16"}),(0,ue.jsxs)("div",{className:"message-bubble",children:[(0,ue.jsxs)("div",{className:"message-content",children:[(0,ue.jsx)("p",{children:e.text}),"assistant"===e.type&&(0,ue.jsx)("button",{className:"tts-button",onClick:()=>m(e.text,e.emotion),title:"\u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0635\u0648\u062a",children:"\ud83d\udd0a"})]}),"system"!==e.type&&(0,ue.jsxs)("div",{className:"message-meta",children:[e.emotion&&(0,ue.jsxs)("span",{className:"emotion-tag",children:[_e[e.emotion]||"\ud83d\ude10"," ",e.emotion]}),e.model&&(0,ue.jsx)("span",{className:"model-tag",children:e.model}),e.timestamp&&(0,ue.jsx)("span",{className:"timestamp",children:e.timestamp})]})]})]},e.id))),(0,ue.jsx)("div",{ref:h})]}),(0,ue.jsxs)("div",{className:"input-container",children:[(0,ue.jsx)("button",{className:"voice-input-button",onClick:()=>{const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(e){const t=new e;t.lang="ar-SA",t.continuous=!1,t.interimResults=!1,t.onresult=e=>{const t=e.results[0][0].transcript;i(t),setTimeout((()=>g(t)),500)},t.onerror=e=>{console.error("Speech recognition error",e.error),n((e=>[...e,{id:Date.now()+1,type:"assistant",text:"\u26a0\ufe0f \u062d\u062f\u062b \u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u062a\u0639\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0635\u0648\u062a. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.",emotion:"sad"}]))},t.start(),n((e=>[...e,{id:Date.now(),type:"system",text:"\ud83c\udfa4 \u062c\u0627\u0631\u064a \u0627\u0644\u0627\u0633\u062a\u0645\u0627\u0639..."}]))}else n((e=>[...e,{id:Date.now()+1,type:"assistant",text:"\u26a0\ufe0f \u0627\u0644\u062a\u0639\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0635\u0648\u062a \u063a\u064a\u0631 \u0645\u062f\u0639\u0648\u0645 \u0641\u064a \u0647\u0630\u0627 \u0627\u0644\u0645\u062a\u0635\u0641\u062d.",emotion:"sad"}]))},title:"\u0625\u062f\u062e\u0627\u0644 \u0635\u0648\u062a\u064a",disabled:o,children:"\ud83c\udfa4"}),(0,ue.jsx)("input",{ref:p,value:r,onChange:e=>i(e.target.value),placeholder:"\u0623\u062f\u062e\u0644 \u0627\u0644\u0637\u0644\u0628 \u0647\u0646\u0627...",onKeyDown:e=>"Enter"===e.key&&g(),disabled:o}),(0,ue.jsx)("button",{className:"send-button",onClick:()=>g(),disabled:o||!r.trim(),children:o?(0,ue.jsx)("span",{className:"loading-dots",children:"..."}):"\u2191"}),(0,ue.jsx)("button",{className:"tts-toggle "+(l?"active":""),onClick:()=>s(!l),title:l?"\u0625\u064a\u0642\u0627\u0641 \u0627\u0644\u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u062a\u0644\u0642\u0627\u0626\u064a \u0644\u0644\u0635\u0648\u062a":"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u062a\u0644\u0642\u0627\u0626\u064a \u0644\u0644\u0635\u0648\u062a",children:l?"\ud83d\udd0a":"\ud83d\udd07"}),(0,ue.jsx)("button",{className:"tts-mode-toggle",onClick:()=>{if(window.mashaaer&&window.mashaaer.voice){const e=window.mashaaer.voice.toggleTTSMode();console.log("TTS mode toggled to: "+(e?"Flask TTS":"Web Speech API"))}},title:"\u062a\u0628\u062f\u064a\u0644 \u0648\u0636\u0639 \u0627\u0644\u062a\u062d\u0648\u064a\u0644 \u0645\u0646 \u0646\u0635 \u0625\u0644\u0649 \u0643\u0644\u0627\u0645",children:"TTS"})]})]})}const ze=()=>{const{configService:t,assistantService:n,emotionService:r,apiService:i,voiceService:o,memoryService:a,themeService:l}=fe();return(0,e.useEffect)((()=>{var e,s,u,c,d,f,h;null===t||void 0===t||null===(e=t.initialize)||void 0===e||e.call(t),null===n||void 0===n||null===(s=n.initialize)||void 0===s||s.call(n),null===r||void 0===r||null===(u=r.initialize)||void 0===u||u.call(r),null===i||void 0===i||null===(c=i.initialize)||void 0===c||c.call(i),null===o||void 0===o||null===(d=o.initialize)||void 0===d||d.call(o),null===a||void 0===a||null===(f=a.initialize)||void 0===f||f.call(a),null===l||void 0===l||null===(h=l.initialize)||void 0===h||h.call(l),l&&l.applyCurrentTheme(),console.log("All services initialized")}),[t,n,r,i,o,a,l]),(0,ue.jsx)("div",{className:"app-container",dir:"rtl",children:(0,ue.jsx)(Pe,{})})},Ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function De(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}function Le(){const e=console.error;console.error=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=n.join(" ");var o,a,l,s;i.includes("net::ERR_FILE_NOT_FOUND")&&(i.includes("extensionState.js")||i.includes("heuristicsRedefinitions.js")||i.includes("utils.js")||i.includes("extension"))?null!==(o=window.mashaaerComponents)&&void 0!==o&&null!==(a=o.systemReport)&&void 0!==a&&a.isDebugMode()&&e.apply(console,["[Filtered Extension Error]",...n]):i.includes("Content Security Policy")&&i.includes("eval")&&!i.includes("localhost")?null!==(l=window.mashaaerComponents)&&void 0!==l&&null!==(s=l.systemReport)&&void 0!==s&&s.isDebugMode()&&e.apply(console,["[Filtered CSP Error]",...n]):e.apply(console,n)},console.log("Console error filter initialized")}Le();t.createRoot(document.getElementById("root")).render((0,ue.jsx)(de,{children:(0,ue.jsx)(ze,{})})),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const t="/service-worker.js";Ie?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((n=>{const r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):De(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):De(t,e)}))}}()})()})();
//# sourceMappingURL=main.d9eb5e2a.js.map