"""
Self Reflection Engine - Provides responses for self-expression and introspection.
"""

def handle_self_reflection_query(prompt: str) -> str:
    """
    Handles queries related to self-reflection, introspection, and personal expression.
    
    Args:
        prompt (str): The user's prompt/query related to self-reflection
        
    Returns:
        str: Response that encourages introspection and self-awareness
    """
    # Simple keyword-based response system
    # In a real implementation, this would connect to a more sophisticated emotional intelligence system
    
    if "ضايع" in prompt or "تائه" in prompt or "حيرة" in prompt:
        return "الشعور بالضياع أو الحيرة هو جزء طبيعي من رحلة الحياة. في هذه اللحظات، قد يساعدك التفكير في هذه الأسئلة:\n\n1. ما هي القيم الأساسية التي تؤمن بها، بغض النظر عن الظروف المتغيرة؟\n2. ما هي الأنشطة التي تجعلك تشعر بالرضا والإنجاز؟\n3. ما هي المواهب أو القدرات التي يلاحظها الآخرون فيك؟\n4. لو كان بإمكانك تجربة مسار مختلف في الحياة دون خوف من الفشل، ماذا ستختار؟\n\nتذكر أن الضياع ليس حالة دائمة، بل مرحلة للاستكشاف والنمو. خذ وقتك للتأمل، واستمع لصوتك الداخلي، وكن لطيفاً مع نفسك خلال هذه الرحلة."

    elif "هوية" in prompt or "من أنا" in prompt:
        return "استكشاف الهوية الذاتية رحلة مستمرة ومتطورة. هويتك تتشكل من عدة عناصر:\n\n1. قيمك ومعتقداتك الأساسية\n2. اهتماماتك وشغفك\n3. علاقاتك وانتماءاتك الاجتماعية\n4. تجاربك وذكرياتك\n5. أهدافك وتطلعاتك المستقبلية\n\nللتعمق في فهم هويتك، يمكنك التفكير في: ما الذي يجعلك تشعر بأنك حقيقي وأصيل؟ ما هي المبادئ التي لا تتنازل عنها؟ ما هي القصص التي تخبرها عن نفسك للآخرين ولنفسك؟ تذكر أن هويتك ليست ثابتة، بل تتطور وتنمو مع تجاربك الجديدة واكتشافاتك عن نفسك."

    elif "معنى" in prompt or "هدف" in prompt or "غاية" in prompt:
        return "البحث عن المعنى والهدف في الحياة هو سعي إنساني عميق. المعنى يختلف من شخص لآخر، ويمكن أن يأتي من مصادر متنوعة:\n\n1. العلاقات: الروابط العميقة مع الآخرين والانتماء لمجتمع\n2. الإنجاز: تحقيق أهداف ذات قيمة شخصية\n3. الإبداع: التعبير عن الذات من خلال الفن أو الابتكار\n4. التعلم: اكتساب المعرفة والحكمة\n5. الخدمة: مساعدة الآخرين والمساهمة في تحسين العالم\n6. التجاوز: الاتصال بشيء أكبر من الذات (روحانياً أو فلسفياً)\n\nلاستكشاف معنى حياتك، فكر في: ما الذي يثير شغفك؟ ما الذي تقدره حقاً؟ كيف تريد أن تتذكر؟ ما هي المساهمة التي تريد تقديمها للعالم؟"

    elif "قرار" in prompt or "اختيار" in prompt or "تردد" in prompt:
        return "اتخاذ القرارات الصعبة يتطلب توازناً بين العقل والقلب والحدس. عندما تواجه قراراً مهماً، يمكن أن تساعدك هذه الخطوات:\n\n1. وضّح قيمك: ما الذي يهمك حقاً في هذا الموقف؟\n2. جمع المعلومات: ما هي الحقائق التي تحتاج لمعرفتها؟\n3. استكشف البدائل: ما هي جميع الخيارات المتاحة؟\n4. تخيل النتائج: كيف ستشعر مع كل خيار بعد شهر؟ بعد سنة؟ بعد خمس سنوات؟\n5. استمع لحدسك: ما الذي يقوله صوتك الداخلي؟\n6. اطلب آراء متنوعة: ماذا يرى الأشخاص الذين تثق بهم؟\n\nتذكر أن التردد المطول قد يكون أصعب من اتخاذ قرار غير مثالي. أحياناً، الخطوة الأولى هي الأصعب، لكنها تفتح الطريق للوضوح."

    elif "تغيير" in prompt or "تطوير" in prompt:
        return "التغيير الشخصي والنمو رحلة تتطلب الصبر والمثابرة. لتحقيق تغيير إيجابي دائم في حياتك:\n\n1. حدد بوضوح ما تريد تغييره ولماذا (الدافع الحقيقي مهم)\n2. قسّم التغيير إلى خطوات صغيرة قابلة للتحقيق\n3. ركز على تغيير عادة واحدة في كل مرة\n4. ابحث عن بيئة داعمة وأشخاص يشجعونك\n5. توقع العقبات وخطط لكيفية التعامل معها\n6. احتفل بالنجاحات الصغيرة في الطريق\n7. كن لطيفاً مع نفسك عند التعثر وانظر إليه كفرصة للتعلم\n\nتذكر أن التغيير الحقيقي يحدث تدريجياً، وأن الاتساق في الخطوات الصغيرة أكثر أهمية من الجهود الكبيرة غير المستدامة."

    elif "ماضي" in prompt or "ندم" in prompt or "ذكريات" in prompt:
        return "علاقتنا بالماضي تؤثر بعمق على حاضرنا ومستقبلنا. للتصالح مع الماضي والتعلم منه:\n\n1. اعترف بمشاعرك تجاه الماضي دون إصدار أحكام عليها\n2. ابحث عن الدروس والحكمة في تجاربك السابقة\n3. تذكر أنك فعلت أفضل ما يمكنك بالمعرفة والموارد التي كانت متاحة لك آنذاك\n4. مارس التعاطف مع ذاتك الماضية كما تتعاطف مع صديق عزيز\n5. ركز على ما يمكنك التحكم به الآن وفي المستقبل\n\nالندم يمكن أن يكون معلماً قيماً إذا استخدمناه كدافع للنمو، لكنه يصبح عبئاً إذا تحول إلى لوم ذاتي مستمر. تذكر أن الماضي لا يمكن تغييره، لكن معنى الماضي في حياتك يمكن أن يتغير."

    elif "مشاعر" in prompt or "عواطف" in prompt or "إحساس" in prompt:
        return "المشاعر هي بوصلتنا الداخلية التي تخبرنا بما هو مهم لنا. للتعامل بشكل صحي مع مشاعرك:\n\n1. تعرف على مشاعرك وسمّها: هل هو غضب، حزن، خوف، فرح، أو مزيج منها؟\n2. تقبل مشاعرك دون إصدار أحكام: جميع المشاعر طبيعية ولها وظيفة\n3. استكشف ما تخبرك به مشاعرك: ما الذي تحتاجه؟ ما الذي تقدره؟\n4. عبّر عن مشاعرك بطرق صحية: الكتابة، التحدث، الفن، الحركة\n5. تذكر أن المشاعر مؤقتة: حتى أقوى المشاعر تتغير وتتحول مع الوقت\n\nالذكاء العاطفي يتضمن فهم مشاعرك والتعامل معها بوعي، مما يساعدك على اتخاذ قرارات أفضل وبناء علاقات أعمق."

    elif "وحدة" in prompt or "عزلة" in prompt:
        return "الشعور بالوحدة تجربة إنسانية عميقة يمرّ بها الجميع في مراحل مختلفة من الحياة. للتعامل مع الوحدة بشكل بنّاء:\n\n1. ميّز بين الوحدة (شعور داخلي) والعزلة (حالة خارجية): يمكن أن تشعر بالوحدة حتى وسط الناس\n2. استخدم وقت الوحدة للتأمل والتعرف على نفسك بعمق أكبر\n3. ابدأ بتواصل صغير ومريح: محادثة قصيرة، رسالة لصديق قديم\n4. ابحث عن مجتمعات تشاركك اهتماماتك وقيمك\n5. تذكر أن الشعور بالوحدة لا يعني أنك وحيد فعلاً: ملايين الناس يشعرون بنفس الشعور\n\nأحياناً، الوحدة هي دعوة للتواصل - ليس فقط مع الآخرين، بل مع أعماق ذاتك أيضاً."

    elif "ثقة" in prompt or "احترام الذات" in prompt:
        return "الثقة بالنفس واحترام الذات هما أساس العلاقة الصحية مع نفسك والآخرين. لتعزيز ثقتك بنفسك:\n\n1. تعرف على قيمتك الذاتية المستقلة عن إنجازاتك أو آراء الآخرين\n2. حدد نقاط قوتك وقدراتك واعترف بها\n3. مارس الحديث الإيجابي مع الذات وتحدى الناقد الداخلي\n4. ضع حدوداً صحية في علاقاتك واحترم احتياجاتك\n5. اخرج من منطقة راحتك تدريجياً وواجه تحديات جديدة\n6. احتفل بنجاحاتك الصغيرة والكبيرة\n\nتذكر أن الثقة بالنفس ليست غياب الخوف، بل هي القدرة على المضي قدماً رغم وجوده. وهي مهارة يمكن تطويرها مع الممارسة والوقت."

    else:
        return "التأمل الذاتي هو رحلة استكشاف داخلية تساعدنا على فهم أنفسنا بشكل أعمق. من خلال التأمل الذاتي، يمكننا استكشاف هويتنا، قيمنا، مشاعرنا، وأهدافنا في الحياة. يمكنني مساعدتك في التفكير في مواضيع مثل: البحث عن المعنى والهدف، اتخاذ القرارات الصعبة، التعامل مع المشاعر، بناء الثقة بالنفس، أو التصالح مع الماضي. ما الجانب من حياتك الداخلية الذي تود استكشافه؟"