"""
Language Helper Engine - Provides language correction, Arabization, and emotional translation.
"""

def handle_language_query(prompt: str) -> str:
    """
    Handles queries related to language assistance, translation, and correction.
    
    Args:
        prompt (str): The user's prompt/query related to language
        
    Returns:
        str: Response with language assistance
    """
    # Simple keyword-based response system
    # In a real implementation, this would connect to a language database or API
    
    if "ترجم" in prompt or "ترجمة" in prompt:
        if "empathy" in prompt or "إمباثي" in prompt:
            return "كلمة 'empathy' تترجم إلى 'التعاطف' أو 'التقمص العاطفي' بالعربية. وهي تعني القدرة على فهم مشاعر الآخرين والإحساس بها كما لو كانت مشاعرك أنت. التعاطف يتجاوز مجرد التعرف على مشاعر الآخرين (التعاطف المعرفي) إلى الشعور بها فعلياً (التعاطف العاطفي). هذه المهارة أساسية في بناء العلاقات الإنسانية العميقة والتواصل الفعال."
        
        elif "mindfulness" in prompt or "مايندفولنس" in prompt:
            return "كلمة 'mindfulness' تترجم إلى 'اليقظة الذهنية' أو 'الوعي الآني' بالعربية. وهي تعني الانتباه المتعمد للحظة الحالية دون إصدار أحكام. اليقظة الذهنية هي حالة من الوعي المركز حيث تلاحظ أفكارك ومشاعرك وأحاسيسك الجسدية والبيئة المحيطة بك، مع قبولها دون تقييم أو انتقاد. تساعد هذه الممارسة على تقليل التوتر وتحسين التركيز والاستمتاع بالحياة بشكل أعمق."
        
        elif "resilience" in prompt or "ريزيلينس" in prompt:
            return "كلمة 'resilience' تترجم إلى 'المرونة النفسية' أو 'الصمود' بالعربية. وهي تعني القدرة على التعافي من الصعوبات والتكيف مع التحديات والضغوط. الشخص الذي يتمتع بالمرونة النفسية يستطيع التعامل مع المحن والصدمات والتغلب عليها، بل وأحياناً الخروج منها أقوى من ذي قبل. هذه الصفة ليست فطرية بالكامل، بل يمكن تنميتها من خلال تطوير مهارات التفكير الإيجابي وبناء علاقات داعمة."
        
        elif "authenticity" in prompt or "أوثنتيسيتي" in prompt:
            return "كلمة 'authenticity' تترجم إلى 'الأصالة' أو 'الصدق مع الذات' بالعربية. وهي تعني التصرف بطريقة تتوافق مع قيمك ومعتقداتك الحقيقية، دون تزييف أو تمثيل. الشخص الأصيل يعيش وفقاً لطبيعته الحقيقية، ويعبر عن مشاعره وأفكاره بصدق، ويتخذ قرارات تعكس هويته الحقيقية. الأصالة ترتبط بالوعي الذاتي والشجاعة للبقاء على طبيعتك حتى عندما يكون ذلك صعباً."
        
        else:
            return "للترجمة الدقيقة، أحتاج إلى معرفة الكلمة أو العبارة التي تريد ترجمتها. يمكنني مساعدتك في ترجمة المصطلحات من الإنجليزية إلى العربية مع شرح معانيها العاطفية والثقافية، وليس مجرد الترجمة الحرفية. هل هناك كلمة محددة تريد معرفة معناها بالعربية؟"
    
    elif "تصحيح" in prompt or "صحح" in prompt:
        return "للتصحيح اللغوي، أحتاج إلى النص الذي تريد تصحيحه. يمكنني مساعدتك في تصحيح الأخطاء النحوية والإملائية وتحسين الأسلوب في اللغة العربية. لتحصل على أفضل مساعدة، يرجى تقديم النص كاملاً مع توضيح ما إذا كنت تبحث عن تصحيح إملائي، نحوي، أو تحسين أسلوبي."
    
    elif "قواعد" in prompt or "نحو" in prompt:
        if "إعراب" in prompt:
            return "الإعراب هو تغيير أواخر الكلمات بسبب تغير موقعها في الجملة. الحركات الإعرابية الأساسية هي:\n\n1. الرفع (الضمة): للفاعل والمبتدأ والخبر. مثال: جاءَ محمدٌ (محمدٌ: فاعل مرفوع)\n2. النصب (الفتحة): للمفعول به والحال. مثال: رأيتُ محمداً (محمداً: مفعول به منصوب)\n3. الجر (الكسرة): للاسم المجرور. مثال: مررتُ بمحمدٍ (محمدٍ: اسم مجرور)\n4. الجزم (السكون): للفعل المضارع في حالات معينة. مثال: لم يذهبْ (يذهبْ: فعل مضارع مجزوم)\n\nلإعراب جملة كاملة، حدد موقع كل كلمة ووظيفتها النحوية."
        
        elif "جمع" in prompt:
            return "في اللغة العربية، هناك ثلاثة أنواع من الجموع:\n\n1. جمع المذكر السالم: يتكون بإضافة 'ون' في حالة الرفع و'ين' في حالتي النصب والجر. مثال: معلم → معلمون/معلمين\n\n2. جمع المؤنث السالم: يتكون بإضافة 'ات'. مثال: معلمة → معلمات\n\n3. جمع التكسير: يتغير فيه بناء المفرد. وله أوزان كثيرة مثل:\n   - فِعال: كتاب → كُتب\n   - أفعال: قلم → أقلام\n   - فُعول: قلب → قلوب\n   - فُعَلاء: كريم → كرماء\n\nبعض الكلمات لها أكثر من صيغة جمع، وبعضها شاذ عن القاعدة."
        
        elif "فعل" in prompt:
            return "الأفعال في اللغة العربية تنقسم من حيث الزمن إلى:\n\n1. الفعل الماضي: يدل على حدث وقع في الزمن الماضي. مثال: كتبَ، ذهبَ\n\n2. الفعل المضارع: يدل على حدث يقع في الزمن الحاضر أو المستقبل. مثال: يكتبُ، يذهبُ\n\n3. فعل الأمر: يطلب به حصول شيء في المستقبل. مثال: اكتبْ، اذهبْ\n\nومن حيث التركيب، تنقسم إلى:\n\n1. الفعل المجرد: ما كانت جميع حروفه أصلية. مثال: كتب (ثلاثي)، دحرج (رباعي)\n\n2. الفعل المزيد: ما زيد على حروفه الأصلية حرف أو أكثر. مثال: أكرم، استغفر"
        
        else:
            return "قواعد اللغة العربية (النحو والصرف) تنظم بناء الجمل وتصريف الكلمات. تشمل المواضيع الأساسية: الإعراب، أقسام الكلام (اسم، فعل، حرف)، الجملة الاسمية والفعلية، المرفوعات (كالفاعل والمبتدأ)، المنصوبات (كالمفعول به)، المجرورات، التوابع (النعت، العطف)، وتصريف الأفعال. هل هناك جانب محدد من قواعد اللغة العربية تريد معرفة المزيد عنه؟"
    
    elif "بلاغة" in prompt or "أسلوب" in prompt:
        return "البلاغة هي فن القول الجميل والتعبير المؤثر. تنقسم إلى ثلاثة علوم رئيسية:\n\n1. علم المعاني: يهتم بكيفية مطابقة الكلام لمقتضى الحال. يشمل: الخبر والإنشاء، التقديم والتأخير، الحذف والذكر، القصر، الوصل والفصل.\n\n2. علم البيان: يهتم بطرق التعبير المختلفة عن المعنى الواحد. يشمل: التشبيه، الاستعارة، المجاز، الكناية.\n\n3. علم البديع: يهتم بتحسين الكلام. يشمل: الجناس، الطباق، المقابلة، السجع، التورية.\n\nلتحسين أسلوبك الكتابي، تعلم هذه الأساليب واستخدمها بشكل مناسب للسياق، مع الحرص على الوضوح والبساطة."
    
    elif "مصطلح" in prompt or "مفردات" in prompt:
        return "لتوسيع مفرداتك في اللغة العربية، جرب هذه الاستراتيجيات:\n\n1. القراءة المتنوعة: اقرأ الكتب والمقالات في مجالات مختلفة.\n2. احتفظ بمعجم لغوي: دوّن الكلمات الجديدة ومعانيها واستخدمها في جمل.\n3. استمع إلى محتوى عربي متنوع: برامج، بودكاست، أخبار.\n4. تعلم المتلازمات اللفظية: مجموعات الكلمات التي تأتي معاً عادة.\n5. تعرف على جذور الكلمات: فهم جذر الكلمة يساعدك على فهم عائلة كاملة من الكلمات.\n6. مارس الكتابة: استخدم المفردات الجديدة في كتاباتك.\n\nتذكر أن تعلم المفردات عملية مستمرة، والممارسة المنتظمة هي المفتاح."
    
    elif "لهجة" in prompt or "عامية" in prompt:
        return "اللهجات العربية متنوعة وتختلف من منطقة لأخرى. بعض اللهجات الرئيسية:\n\n1. اللهجة المصرية: من أشهر اللهجات وأكثرها انتشاراً بسبب الإعلام المصري.\n2. اللهجة الشامية: تشمل لهجات سوريا، لبنان، الأردن، وفلسطين، مع وجود اختلافات بينها.\n3. اللهجات الخليجية: في السعودية، الإمارات، الكويت، البحرين، قطر، وعمان.\n4. اللهجة المغاربية: في المغرب، الجزائر، تونس، وليبيا، وتتأثر باللغة الأمازيغية والفرنسية.\n5. اللهجة العراقية: تتميز بمفردات خاصة وتأثرها بالفارسية والتركية.\n\nرغم الاختلافات، تبقى الفصحى هي اللغة المشتركة للتواصل الرسمي والكتابة بين جميع العرب."
    
    elif "فصحى" in prompt or "معاصرة" in prompt:
        return "العربية الفصحى المعاصرة هي النسخة الحديثة من اللغة العربية الفصحى، وهي لغة الإعلام والتعليم والكتابة الرسمية في العالم العربي. تختلف عن الفصحى التراثية (لغة القرآن والتراث) في بعض المفردات والتراكيب، حيث استوعبت مصطلحات حديثة وتأثرت بالترجمة من اللغات الأخرى. لإتقان الفصحى المعاصرة، اقرأ الصحف والمجلات العربية، استمع إلى نشرات الأخبار، واكتب بانتظام مع الاهتمام بقواعد اللغة. تذكر أن الممارسة المستمرة هي أفضل طريقة للتحسن."
    
    else:
        return "اللغة هي وسيلة التواصل الأساسية بين البشر، واللغة العربية من أغنى اللغات وأكثرها تعبيراً. يمكنني مساعدتك في الترجمة، التصحيح اللغوي، شرح قواعد النحو والصرف، تحسين الأسلوب البلاغي، توسيع المفردات، أو التعرف على اللهجات العربية المختلفة. ما الجانب اللغوي الذي تود معرفة المزيد عنه؟"